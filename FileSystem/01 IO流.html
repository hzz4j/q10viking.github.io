<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.27">
    <link rel="icon" href="/images/favicon-32x32.png"><title>é™é»˜ã®Blog</title><meta name="description" content="é™é»˜çš„Vuepress Blog">
    <link rel="preload" href="/assets/js/runtime~app.2c87fbe0.js" as="script"><link rel="preload" href="/assets/css/styles.b779b927.css" as="style"><link rel="preload" href="/assets/js/95615.aba5921d.js" as="script"><link rel="preload" href="/assets/js/app.4aafd1f6.js" as="script">
    <link rel="stylesheet" href="/assets/css/styles.b779b927.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><!----><span class="site-name can-hide">é™é»˜ã®Blog</span></a></span><div class="navbar-links-wrapper" style=""><!--[--><!--]--><nav class="navbar-links can-hide"><!--[--><div class="navbar-links-item"><a href="/topicNav/" class="nav-link" aria-label="ğŸ“—Menu"><!--[--><!--]--> ğŸ“—Menu <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/aboutme/" class="nav-link" aria-label="AboutMe"><!--[--><!--]--> AboutMe <!--[--><!--]--></a></div><div class="navbar-links-item"><a class="nav-link external" href="https://github.com/Q10Viking/q10viking.github.io" rel="noopener noreferrer" target="_blank" aria-label="Github"><!--[--><!--]--> Github <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-dark-button" title="toggle dark mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><div id="docsearch-container"></div></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-links"><!--[--><div class="navbar-links-item"><a href="/topicNav/" class="nav-link" aria-label="ğŸ“—Menu"><!--[--><!--]--> ğŸ“—Menu <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/aboutme/" class="nav-link" aria-label="AboutMe"><!--[--><!--]--> AboutMe <!--[--><!--]--></a></div><div class="navbar-links-item"><a class="nav-link external" href="https://github.com/Q10Viking/q10viking.github.io" rel="noopener noreferrer" target="_blank" aria-label="Github"><!--[--><!--]--> Github <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-links"><!--[--><!--[--><p class="sidebar-heading sidebar-item"></p><ul class=""><li><!--[--><a aria-current="page" href="/FileSystem/01%20IO%E6%B5%81.html#å­—èŠ‚æµbyte-stream" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="å­—èŠ‚æµByte Stream"><!--[--><!--]--> å­—èŠ‚æµByte Stream <!--[--><!--]--></a><ul class="sidebar-sub-items"><li><!--[--><a aria-current="page" href="/FileSystem/01%20IO%E6%B5%81.html#è·å–å½“å‰å·¥ä½œè·¯å¾„" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="è·å–å½“å‰å·¥ä½œè·¯å¾„"><!--[--><!--]--> è·å–å½“å‰å·¥ä½œè·¯å¾„ <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--></li><li><!--[--><a aria-current="page" href="/FileSystem/01%20IO%E6%B5%81.html#å­—ç¬¦æµ" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="å­—ç¬¦æµ"><!--[--><!--]--> å­—ç¬¦æµ <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/FileSystem/01%20IO%E6%B5%81.html#_0-ioæ€»è§ˆ" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="0. IOæ€»è§ˆ"><!--[--><!--]--> 0. IOæ€»è§ˆ <!--[--><!--]--></a><ul class="sidebar-sub-items"><li><!--[--><a aria-current="page" href="/FileSystem/01%20IO%E6%B5%81.html#_1-å­—èŠ‚æµ" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="1. å­—èŠ‚æµ"><!--[--><!--]--> 1. å­—èŠ‚æµ <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/FileSystem/01%20IO%E6%B5%81.html#_2-å­—ç¬¦æµ" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="2. å­—ç¬¦æµ"><!--[--><!--]--> 2. å­—ç¬¦æµ <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--></li><li><!--[--><a aria-current="page" href="/FileSystem/01%20IO%E6%B5%81.html#_1-bufferedinputstreamå­—èŠ‚ç¼“å†²æµ" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="1. BufferedInputStreamå­—èŠ‚ç¼“å†²æµ"><!--[--><!--]--> 1. BufferedInputStreamå­—èŠ‚ç¼“å†²æµ <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/FileSystem/01%20IO%E6%B5%81.html#_2-å­—ç¬¦æµ-1" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="2. å­—ç¬¦æµ"><!--[--><!--]--> 2. å­—ç¬¦æµ <!--[--><!--]--></a><ul class="sidebar-sub-items"><li><!--[--><a aria-current="page" href="/FileSystem/01%20IO%E6%B5%81.html#_2-1-ä¸­æ–‡å­—èŠ‚å­˜å‚¨" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="2.1 ä¸­æ–‡å­—èŠ‚å­˜å‚¨"><!--[--><!--]--> 2.1 ä¸­æ–‡å­—èŠ‚å­˜å‚¨ <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/FileSystem/01%20IO%E6%B5%81.html#_2-2-ç¼–ç è¡¨" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="2.2 ç¼–ç è¡¨"><!--[--><!--]--> 2.2 ç¼–ç è¡¨ <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/FileSystem/01%20IO%E6%B5%81.html#_2-3-å­—ç¬¦ä¸²ç¼–ç è§£ç ç›¸å…³" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="2.3 å­—ç¬¦ä¸²ç¼–ç è§£ç ç›¸å…³"><!--[--><!--]--> 2.3 å­—ç¬¦ä¸²ç¼–ç è§£ç ç›¸å…³ <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/FileSystem/01%20IO%E6%B5%81.html#_2-4-å­—ç¬¦æµä¸­çš„ç¼–ç è§£ç " class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="2.4 å­—ç¬¦æµä¸­çš„ç¼–ç è§£ç "><!--[--><!--]--> 2.4 å­—ç¬¦æµä¸­çš„ç¼–ç è§£ç  <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--></li><li><!--[--><a aria-current="page" href="/FileSystem/01%20IO%E6%B5%81.html#_3-bufferedreaderå­—ç¬¦ç¼“å†²æµ" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="3. BufferedReaderå­—ç¬¦ç¼“å†²æµ"><!--[--><!--]--> 3. BufferedReaderå­—ç¬¦ç¼“å†²æµ <!--[--><!--]--></a><ul class="sidebar-sub-items"><li><!--[--><a aria-current="page" href="/FileSystem/01%20IO%E6%B5%81.html#_3-1-bufferwriterç‰¹æœ‰æ–¹æ³•" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="3.1 BufferWriterç‰¹æœ‰æ–¹æ³•"><!--[--><!--]--> 3.1 BufferWriterç‰¹æœ‰æ–¹æ³• <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/FileSystem/01%20IO%E6%B5%81.html#_3-2-bufferreaderç‰¹æœ‰æ–¹æ³•" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="3.2 BufferReaderç‰¹æœ‰æ–¹æ³•"><!--[--><!--]--> 3.2 BufferReaderç‰¹æœ‰æ–¹æ³• <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--></li><li><!--[--><a aria-current="page" href="/FileSystem/01%20IO%E6%B5%81.html#_4-è¯»å–ä¸€ä¸ªæ–‡ä»¶å¸¦ç¼–ç " class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="4. è¯»å–ä¸€ä¸ªæ–‡ä»¶å¸¦ç¼–ç "><!--[--><!--]--> 4. è¯»å–ä¸€ä¸ªæ–‡ä»¶å¸¦ç¼–ç  <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/FileSystem/01%20IO%E6%B5%81.html#åºåˆ—åŒ–ä¸ååºåˆ—åŒ–çš„åŒ…è£…" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="åºåˆ—åŒ–ä¸ååºåˆ—åŒ–çš„åŒ…è£…"><!--[--><!--]--> åºåˆ—åŒ–ä¸ååºåˆ—åŒ–çš„åŒ…è£… <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/FileSystem/01%20IO%E6%B5%81.html#printwriter" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="PrintWriter"><!--[--><!--]--> PrintWriter <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h2 id="å­—èŠ‚æµbyte-stream" tabindex="-1"><a class="header-anchor" href="#å­—èŠ‚æµbyte-stream" aria-hidden="true">#</a> å­—èŠ‚æµByte Stream</h2><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>it actually represents a kind of low-level I/O that you should avoid.</p><p>Since <code>xanadu.txt</code> contains character data, the best approach is to use <a href="https://docs.oracle.com/javase/tutorial/essential/io/charstreams.html" target="_blank" rel="noopener noreferrer">character streams<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a>,</p></div><p><a href="https://github.com/Q10Viking/learncode/blob/main/filesystem/src/org/hzz/chapter01/CopyBytes.java" target="_blank" rel="noopener noreferrer">Source Code CopyBytes.java<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a></p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">FileInputStream</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">FileOutputStream</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CopyBytes</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">FileInputStream</span> in <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token class-name">FileOutputStream</span> out <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span><span class="token punctuation">{</span>
            <span class="token comment">// è·¯å¾„é—®é¢˜ï¼Œå½“å‰è·¯å¾„  D:\learncode\filesystem</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Working Directory = &quot;</span> <span class="token operator">+</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">&quot;user.dir&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// æ‰€ä»¥ç›¸å¯¹è·¯å¾„æ˜¯åœ¨D:\learncode\filesystem\xanadu.txt ä¸”å¿…é¡»è¦æœ‰</span>
            in <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">&quot;xanadu.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// outagain.txt ä¸å­˜åœ¨åˆ™ç›´æ¥åˆ›å»º</span>
            out <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token string">&quot;outagain.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">int</span> c<span class="token punctuation">;</span>
            <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token punctuation">(</span>c <span class="token operator">=</span> in<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                out<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token keyword">finally</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>in <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                in<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token keyword">if</span><span class="token punctuation">(</span>out <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                out<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><p><img src="/images/filesystem/byteStream.gif" alt="img"></p><h3 id="è·å–å½“å‰å·¥ä½œè·¯å¾„" tabindex="-1"><a class="header-anchor" href="#è·å–å½“å‰å·¥ä½œè·¯å¾„" aria-hidden="true">#</a> è·å–å½“å‰å·¥ä½œè·¯å¾„</h3><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// å½“å‰è·¯å¾„  D:\learncode\filesystem</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Working Directory = &quot;</span> <span class="token operator">+</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">&quot;user.dir&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="å­—ç¬¦æµ" tabindex="-1"><a class="header-anchor" href="#å­—ç¬¦æµ" aria-hidden="true">#</a> å­—ç¬¦æµ</h2><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>å­—èŠ‚æµé€‚åˆå·¥ä½œåœ¨åº•å±‚çš„ç‰©ç†è®¾å¤‡ï¼Œå¯¹äºæ–‡å­—ç±»å‹å¯ä»¥ä½¿ç”¨å­—ç¬¦æµ</p></div><p><a href="https://github.com/Q10Viking/learncode/blob/main/filesystem/src/org/hzz/chapter01/CopyCharacters.java" target="_blank" rel="noopener noreferrer">Source Code CopyCharacters.java<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a></p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">FileReader</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">FileWriter</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CopyCharacters</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">FileReader</span> fileReader <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token class-name">FileWriter</span> fileWriter <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

        <span class="token keyword">try</span><span class="token punctuation">{</span>
            fileReader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileReader</span><span class="token punctuation">(</span><span class="token string">&quot;xanadu.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            fileWriter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileWriter</span><span class="token punctuation">(</span><span class="token string">&quot;characteroutput.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// in CopyCharacters.java, the int variable holds a character value in its last 16 bits;</span>
            <span class="token comment">// in CopyBytes.java, the int variable holds a byte value in its last 8 bits.</span>
            <span class="token keyword">int</span> c<span class="token punctuation">;</span>
            <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token punctuation">(</span>c <span class="token operator">=</span> fileReader<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                fileWriter<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token keyword">finally</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>fileReader <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                fileReader<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token keyword">if</span><span class="token punctuation">(</span>fileWriter <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                fileWriter<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><hr><h2 id="_0-ioæ€»è§ˆ" tabindex="-1"><a class="header-anchor" href="#_0-ioæ€»è§ˆ" aria-hidden="true">#</a> 0. IOæ€»è§ˆ</h2><h3 id="_1-å­—èŠ‚æµ" tabindex="-1"><a class="header-anchor" href="#_1-å­—èŠ‚æµ" aria-hidden="true">#</a> 1. å­—èŠ‚æµ</h3><img src="/images/filesystem/image-20201009101047451.png" alt="image-20201009101047451"><h3 id="_2-å­—ç¬¦æµ" tabindex="-1"><a class="header-anchor" href="#_2-å­—ç¬¦æµ" aria-hidden="true">#</a> 2. å­—ç¬¦æµ</h3><img src="/images/filesystem/image-20201009101159740.png" alt="image-20201009101159740"><h2 id="_1-bufferedinputstreamå­—èŠ‚ç¼“å†²æµ" tabindex="-1"><a class="header-anchor" href="#_1-bufferedinputstreamå­—èŠ‚ç¼“å†²æµ" aria-hidden="true">#</a> 1. BufferedInputStreamå­—èŠ‚ç¼“å†²æµ</h2><ol><li>å­—èŠ‚ç¼“å†²æµ<strong>ä»…ä»…æä¾›ç¼“å†²åŒº</strong>ï¼Œ</li><li>è€ŒçœŸæ­£çš„è¯»å†™æ•°æ®è¿˜å¾—<strong>ä¾é åŸºæœ¬çš„å­—èŠ‚æµå¯¹è±¡</strong>è¿›è¡Œæ“ä½œ,æ‰€ä»¥éœ€è¦ä¼ å…¥å­—èŠ‚æµå¯¹è±¡(FileOutputStream)</li></ol><img src="/images/filesystem/image-20201009083909326.png" alt="image-20201009083909326"><ol start="3"><li>æ‰€ä»¥å…¶è¯»å†™æ•°æ®çš„æ–¹æ³•ä¸å­—èŠ‚æµFileOutputStreamä¸€æ ·</li></ol><h2 id="_2-å­—ç¬¦æµ-1" tabindex="-1"><a class="header-anchor" href="#_2-å­—ç¬¦æµ-1" aria-hidden="true">#</a> 2. å­—ç¬¦æµ</h2><p><strong>å­—ç¬¦æµ = å­—èŠ‚æµ + ç¼–ç è¡¨</strong></p><h3 id="_2-1-ä¸­æ–‡å­—èŠ‚å­˜å‚¨" tabindex="-1"><a class="header-anchor" href="#_2-1-ä¸­æ–‡å­—èŠ‚å­˜å‚¨" aria-hidden="true">#</a> 2.1 ä¸­æ–‡å­—èŠ‚å­˜å‚¨</h3><p>ç”¨å­—èŠ‚æµå¤åˆ¶æ–‡æœ¬æ–‡ä»¶æ—¶ï¼Œæ–‡æœ¬æ–‡ä»¶ä¹Ÿä¼šæœ‰ä¸­æ–‡ï¼Œä½†æ˜¯æ²¡æœ‰é—®é¢˜ï¼ŒåŸå› æ˜¯æœ€ç»ˆåº•å±‚æ“ä½œä¼šè‡ªåŠ¨è¿›è¡Œå­—èŠ‚æ‹¼æ¥æˆä¸­æ–‡ï¼Œå¦‚ä½•è¯†åˆ«æ˜¯ä¸­æ–‡çš„å‘¢ï¼Ÿ</p><p><strong>æ±‰å­—åœ¨å­˜å‚¨çš„æ—¶å€™ï¼Œæ— è®ºé€‰æ‹©å“ªç§ç¼–ç å­˜å‚¨ï¼Œç¬¬ä¸€ä¸ªå­—èŠ‚éƒ½æ˜¯è´Ÿæ•°</strong></p><h3 id="_2-2-ç¼–ç è¡¨" tabindex="-1"><a class="header-anchor" href="#_2-2-ç¼–ç è¡¨" aria-hidden="true">#</a> 2.2 ç¼–ç è¡¨</h3><ol><li><p>ASCIIå­—ç¬¦é›†</p></li><li><p>GBXXXå­—ç¬¦é›†</p><ol><li><blockquote><p><strong>GBKç¼–ç </strong>ï¼šæœ€å¸¸ç”¨çš„ä¸­æ–‡ç è¡¨ã€‚æ˜¯<strong>åœ¨GB2312æ ‡å‡†åŸºç¡€ä¸Šçš„æ‰©å±•è§„èŒƒ</strong>ï¼Œ<strong>ä½¿ç”¨äº†åŒå­—èŠ‚ç¼–ç æ–¹æ¡ˆ</strong>ï¼Œå…±æ”¶å½•äº†21003ä¸ªæ±‰å­—ï¼Œå®Œå…¨å…¼å®¹GB2312æ ‡å‡†ï¼ŒåŒæ—¶æ”¯æŒç¹ä½“æ±‰å­—ä»¥åŠæ—¥éŸ©æ±‰å­—ç­‰</p></blockquote></li></ol></li><li><p>Unicodeå­—ç¬¦é›†</p><ol><li><blockquote><p><strong>UTF8ç¼–ç </strong>ï¼šå¯ä»¥ç”¨æ¥<strong>è¡¨ç¤ºUnicodeæ ‡å‡†ä¸­ä»»æ„å­—ç¬¦</strong>,å®ƒä½¿ç”¨ä¸€è‡³å››ä¸ªå­—èŠ‚ä¸ºæ¯ä¸ªå­—ç¬¦ç¼–ç ;</p><p><strong>ç¼–ç è§„åˆ™</strong>ï¼š 1ï¼‰128ä¸ªUS-ASCIIå­—ç¬¦ï¼Œåªéœ€ä¸€ä¸ªå­—èŠ‚ç¼–ç ï¼›2ï¼‰æ‹‰ä¸æ–‡ç­‰å­—ç¬¦ï¼Œéœ€è¦äºŒä¸ªå­—èŠ‚ç¼–ç ï¼› 3ï¼‰å¤§éƒ¨åˆ†å¸¸ç”¨å­—ï¼ˆå«ä¸­æ–‡ï¼‰ï¼Œä½¿ç”¨ä¸‰ä¸ªå­—èŠ‚ç¼–ç ï¼›4ï¼‰ å…¶ä»–æå°‘ä½¿ç”¨çš„Unicodeè¾…åŠ©å­—ç¬¦ï¼Œä½¿ç”¨å››å­—èŠ‚ç¼–ç </p></blockquote></li></ol></li></ol><h3 id="_2-3-å­—ç¬¦ä¸²ç¼–ç è§£ç ç›¸å…³" tabindex="-1"><a class="header-anchor" href="#_2-3-å­—ç¬¦ä¸²ç¼–ç è§£ç ç›¸å…³" aria-hidden="true">#</a> <strong>2.3 å­—ç¬¦ä¸²ç¼–ç è§£ç ç›¸å…³</strong></h3><img src="/images/filesystem/image-20201009085548576.png" alt="image-20201009085548576"><h4 id="_1-ç¼–ç æµ‹è¯•" tabindex="-1"><a class="header-anchor" href="#_1-ç¼–ç æµ‹è¯•" aria-hidden="true">#</a> 1. ç¼–ç æµ‹è¯•</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">String</span> name<span class="token operator">=</span><span class="token string">&quot;å°åº¦&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// gbkç¼–ç  [-48, -95, -74, -56]  ä¸åŒºåˆ†å¤§å°å†™</span>
<span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> gbkBys <span class="token operator">=</span> name<span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token string">&quot;gBk&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// utf-8ç¼–ç  [-27, -80, -113, -27, -70, -90] T</span>
<span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> utf8Bys <span class="token operator">=</span> name<span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token string">&quot;uTf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">String</span> code<span class="token operator">=</span><span class="token string">&quot;CN&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// [67, 78] 128ä¸ªUS-ASCIIå­—ç¬¦ï¼Œåªéœ€ä¸€ä¸ªå­—èŠ‚ç¼–ç </span>
<span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bys <span class="token operator">=</span> code<span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token string">&quot;utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h4 id="_2-è§£ç æµ‹è¯•" tabindex="-1"><a class="header-anchor" href="#_2-è§£ç æµ‹è¯•" aria-hidden="true">#</a> 2. è§£ç æµ‹è¯•</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// utf-8ç¼–ç çš„æ•°æ®</span>
<span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> utf8Bys <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token operator">-</span><span class="token number">27</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">80</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">113</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">27</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">70</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">90</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// utfè§£ç  å°åº¦</span>
<span class="token class-name">String</span> name1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>utf8Bys<span class="token punctuation">,</span><span class="token string">&quot;utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// gbkè§£ç å¤±è´¥ çå¿“å®³</span>
<span class="token class-name">String</span> name2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>utf8Bys<span class="token punctuation">,</span><span class="token string">&quot;gbk&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="_2-4-å­—ç¬¦æµä¸­çš„ç¼–ç è§£ç " tabindex="-1"><a class="header-anchor" href="#_2-4-å­—ç¬¦æµä¸­çš„ç¼–ç è§£ç " aria-hidden="true">#</a> 2.4 å­—ç¬¦æµä¸­çš„ç¼–ç è§£ç </h3><h4 id="_1-readerå­—ç¬¦æµæŠ½è±¡åŸºç±»" tabindex="-1"><a class="header-anchor" href="#_1-readerå­—ç¬¦æµæŠ½è±¡åŸºç±»" aria-hidden="true">#</a> 1. Readerå­—ç¬¦æµæŠ½è±¡åŸºç±»</h4><ol><li><code>Reader</code>ï¼šå­—ç¬¦è¾“å…¥æµçš„æŠ½è±¡ç±»</li><li><code>Writer</code>ï¼šå­—ç¬¦è¾“å‡ºæµçš„æŠ½è±¡ç±»</li><li>å­ç±»åç§°éƒ½æ˜¯<strong>ä»¥å…¶çˆ¶ç±»åä½œä¸ºå­ç±»åçš„åç¼€</strong></li></ol><blockquote><p>çœŸæ­£çš„è¯»å†™æ•°æ®è¿˜å¾—<strong>ä¾é åŸºæœ¬çš„å­—èŠ‚æµå¯¹è±¡</strong>è¿›è¡Œæ“ä½œ</p></blockquote><h4 id="_2-inputstreamreaderå­—ç¬¦æµä¸­ç¼–ç è§£ç ç›¸å…³ç±»" tabindex="-1"><a class="header-anchor" href="#_2-inputstreamreaderå­—ç¬¦æµä¸­ç¼–ç è§£ç ç›¸å…³ç±»" aria-hidden="true">#</a> 2. InputStreamReaderå­—ç¬¦æµä¸­ç¼–ç è§£ç ç›¸å…³ç±»</h4><ol><li><code>InputStreamReader</code> ä»å­—èŠ‚æµåˆ°å­—ç¬¦æµçš„æ¡¥æ¢</li><li><code>OutputStreamWriter</code> æ˜¯ä»å­—ç¬¦æµåˆ°å­—èŠ‚æµçš„æ¡¥æ¢</li></ol><blockquote><p>å®ƒä½¿ç”¨çš„å­—ç¬¦é›†å¯ä»¥ç”±åç§°æŒ‡å®šï¼Œä¹Ÿå¯ä»¥è¢«æ˜ç¡®æŒ‡å®šï¼Œæˆ–è€…å¯ä»¥æ¥å—å¹³å°çš„é»˜è®¤å­—ç¬¦é›†</p></blockquote><img src="/images/filesystem/image-20201009091939330.png" alt="image-20201009091939330"><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">StringBuilder</span> out <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">InputStreamReader</span> reader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">InputStreamReader</span><span class="token punctuation">(</span>in<span class="token punctuation">,</span> charset<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> buffer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token constant">BUFFER_SIZE</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> bytesRead <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>bytesRead <span class="token operator">=</span> reader<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>buffer<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    out<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>buffer<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> bytesRead<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">return</span> out<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h4 id="_3-å­—ç¬¦æµå†™æ•°æ®çš„5ç§æ–¹å¼" tabindex="-1"><a class="header-anchor" href="#_3-å­—ç¬¦æµå†™æ•°æ®çš„5ç§æ–¹å¼" aria-hidden="true">#</a> 3. å­—ç¬¦æµå†™æ•°æ®çš„5ç§æ–¹å¼</h4><img src="/images/filesystem/image-20201009091837046.png" alt="image-20201009091837046"><blockquote><p>å¯¹æ¯”å­—èŠ‚æµä¸å­—ç¬¦æµå†™å…¥ä¸­æ–‡çš„æ–¹å¼</p></blockquote><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>		<span class="token class-name">String</span> china <span class="token operator">=</span> <span class="token string">&quot;åŠ¨ç‰©å›­&quot;</span><span class="token punctuation">;</span>

        <span class="token comment">//  å­—èŠ‚æµè¾“å‡ºå¯¹è±¡</span>
        <span class="token class-name">OutputStream</span> out <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token string">&quot;.\\world.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// å­—èŠ‚æµå†™å…¥ä¸­æ–‡çš„æ–¹å¼,æ‰‹åŠ¨æŒ‡å®šç¼–ç æ–¹å¼</span>
        out<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>china<span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token string">&quot;utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// ä½¿ç”¨å­—ç¬¦æµ</span>
        <span class="token class-name">Writer</span> writer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">OutputStreamWriter</span><span class="token punctuation">(</span>out<span class="token punctuation">,</span><span class="token string">&quot;utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        writer<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>china<span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">//  åˆ·æ–°æ•°æ®åˆ°æ–‡ä»¶</span>
        writer<span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h4 id="_4-å­—ç¬¦æµè¯»æ•°æ®çš„2ç§æ–¹å¼" tabindex="-1"><a class="header-anchor" href="#_4-å­—ç¬¦æµè¯»æ•°æ®çš„2ç§æ–¹å¼" aria-hidden="true">#</a> 4. å­—ç¬¦æµè¯»æ•°æ®çš„2ç§æ–¹å¼</h4><img src="/images/filesystem/image-20201009093123244.png" alt="image-20201009093123244"><h4 id="_5-filereaderè½¬åŒ–æµç®€åŒ–" tabindex="-1"><a class="header-anchor" href="#_5-filereaderè½¬åŒ–æµç®€åŒ–" aria-hidden="true">#</a> 5. FileReaderè½¬åŒ–æµç®€åŒ–</h4><p><strong>InputStreamReaderç­‰è½¬æ¢æµçš„åå­—æ¯”è¾ƒé•¿</strong>ï¼Œè€Œæˆ‘ä»¬å¸¸è§çš„æ“ä½œéƒ½æ˜¯æŒ‰ç…§æœ¬åœ°é»˜è®¤ç¼–ç å®ç°çš„ï¼Œæ‰€ä»¥ï¼Œä¸ºäº†ç®€åŒ–ä¹¦å†™ï¼Œè½¬æ¢æµæä¾›äº†å¯¹åº”çš„å­ç±»</p><ol><li><code>FileReader(String fileName)</code></li><li><code>FileWriter(String fileName)</code></li></ol><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Reader</span> reader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileReader</span><span class="token punctuation">(</span><span class="token string">&quot;.\\world.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//  è¯»å–çš„ç¼“å†²åŒº</span>
<span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> chars <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
reader<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>chars<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//  è½¬åŒ–ä¸ºå­—ç¬¦ä¸²</span>
<span class="token class-name">String</span> name <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>chars<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>chars<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="_3-bufferedreaderå­—ç¬¦ç¼“å†²æµ" tabindex="-1"><a class="header-anchor" href="#_3-bufferedreaderå­—ç¬¦ç¼“å†²æµ" aria-hidden="true">#</a> 3. BufferedReaderå­—ç¬¦ç¼“å†²æµ</h2><ol><li>BufferedWriter(Writer out)</li><li>BufferedReader(Reader in)</li></ol><blockquote><p>ä»–ä»¬åªæä¾›ç¼“å†²åŠŸèƒ½ï¼ŒçœŸæ­£çš„è¯»å†™è¿˜æ˜¯ä¾é åº•å±‚çš„å­—èŠ‚æµFileInputStream;</p><p>é¡ºåºBufferedReader -&gt; FileReader -&gt; InputStreamReader-&gt;FileInputStream</p></blockquote><h3 id="_3-1-bufferwriterç‰¹æœ‰æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#_3-1-bufferwriterç‰¹æœ‰æ–¹æ³•" aria-hidden="true">#</a> 3.1 BufferWriterç‰¹æœ‰æ–¹æ³•</h3><img src="/images/filesystem/image-20201009100346385.png" alt="image-20201009100346385"><h3 id="_3-2-bufferreaderç‰¹æœ‰æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#_3-2-bufferreaderç‰¹æœ‰æ–¹æ³•" aria-hidden="true">#</a> 3.2 BufferReaderç‰¹æœ‰æ–¹æ³•</h3><p><strong>è¯»å–çš„å­—ç¬¦ä¸²ç›´æ¥æ˜¯å­—ç¬¦ä¸²ï¼Œè€Œä¸æ˜¯å­—ç¬¦æ•°ç»„</strong></p><img src="/images/filesystem/image-20201009100447614.png" alt="image-20201009100447614"><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code> <span class="token class-name">Reader</span> reader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileReader</span><span class="token punctuation">(</span><span class="token string">&quot;.\\world.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment">//  æ·»åŠ ç¼“å†²æµ</span>
 <span class="token class-name">BufferedReader</span> br <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedReader</span><span class="token punctuation">(</span>reader<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment">//  è¯»å–æ•°æ®</span>
 <span class="token class-name">String</span> line <span class="token operator">=</span> br<span class="token punctuation">.</span><span class="token function">readLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="_4-è¯»å–ä¸€ä¸ªæ–‡ä»¶å¸¦ç¼–ç " tabindex="-1"><a class="header-anchor" href="#_4-è¯»å–ä¸€ä¸ªæ–‡ä»¶å¸¦ç¼–ç " aria-hidden="true">#</a> 4. è¯»å–ä¸€ä¸ªæ–‡ä»¶å¸¦ç¼–ç </h2><ol><li><p>æ ‡å‡†çš„è·¯å¾„</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">//	æ ‡å‡†è·¯å¾„  D:/Code/Java/...</span>
<span class="token comment">//	windows è·¯å¾„ åˆ™åº”è¯¥è½¬ä¹‰ D:\\Code\\Java\\...  å› ä¸ºwindowså¤åˆ¶å‡ºæ¥çš„è·¯å¾„å½¢å¼æ˜¯D:\Code\Java\...</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ol><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> path <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">&quot;user.dir&quot;</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">&quot;/thinking-in-spring/resource/src/main/java/org/geekbang/thinking/in/spring/resource/EncodedFileSystemResourceDemo.java&quot;</span><span class="token punctuation">;</span>
        <span class="token comment">//  è¯»å–ä¸€ä¸ªæ–‡ä»¶</span>
        <span class="token class-name">File</span> file <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//  è½¬åŒ–ä¸ºæµ</span>
        <span class="token class-name">InputStream</span> inputStream <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//  æŒ‡å®šæ–‡ä»¶</span>
        <span class="token class-name">Reader</span> reader <span class="token operator">=</span>  <span class="token keyword">new</span> <span class="token class-name">InputStreamReader</span><span class="token punctuation">(</span>inputStream<span class="token punctuation">,</span><span class="token string">&quot;utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//  è½¬åŒ–ä¸ºå­—ç¬¦ä¸²</span>
        <span class="token class-name">StringBuilder</span> builder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> buffer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

        <span class="token keyword">final</span> <span class="token keyword">int</span> <span class="token constant">EOF</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token constant">EOF</span> <span class="token operator">!=</span> reader<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>buffer<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            builder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>buffer<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>builder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        reader<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h2 id="åºåˆ—åŒ–ä¸ååºåˆ—åŒ–çš„åŒ…è£…" tabindex="-1"><a class="header-anchor" href="#åºåˆ—åŒ–ä¸ååºåˆ—åŒ–çš„åŒ…è£…" aria-hidden="true">#</a> åºåˆ—åŒ–ä¸ååºåˆ—åŒ–çš„åŒ…è£…</h2><p>å¯¹è±¡-&gt;æ–‡ä»¶æµåŒ…è£…</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">ObjectOutputStream</span> oos <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectOutputStream</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token string">&quot;test.out&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token class-name">ObjectInputStream</span> ois <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectInputStream</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">&quot;test.out&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>å¯¹è±¡-&gt;å­—èŠ‚åŒ…è£…</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">ByteArrayOutputStream</span> bo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ByteArrayOutputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">ObjectOutputStream</span> oos <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectOutputStream</span><span class="token punctuation">(</span>bo<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">ByteArrayInputStream</span> bi <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ByteArrayInputStream</span><span class="token punctuation">(</span>bo<span class="token punctuation">.</span><span class="token function">toByteArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">ObjectInputStream</span> oi <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectInputStream</span><span class="token punctuation">(</span>bi<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="printwriter" tabindex="-1"><a class="header-anchor" href="#printwriter" aria-hidden="true">#</a> PrintWriter</h2><p>å­—ç¬¦è¾“å‡º</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Editor</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">FileNotFoundException</span><span class="token punctuation">,</span> <span class="token class-name">UnsupportedEncodingException</span> <span class="token punctuation">{</span>
        <span class="token class-name">Scanner</span> scanner <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Scanner</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>in<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;è¯·è¾“å…¥æ–‡ä»¶å: &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> fileName <span class="token operator">=</span> scanner<span class="token punctuation">.</span><span class="token function">nextLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token doc-comment comment">/**
         * å½“åˆ›å»ºPWæ—¶ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºä¸€ä¸ªæµæ—¶ï¼Œ
         * é‚£ä¹ˆä¹…å¯ä»¥å†ä¼ å…¥ä¸€ä¸ªbooleanå€¼ç±»å‹çš„å‚æ•°ï¼Œ
         * è‹¥è¯¥å€¼ä¸ºtrueï¼Œé‚£ä¹ˆå½“å‰PWä¹…å…·æœ‰è‡ªåŠ¨è¡Œåˆ·æ–°çš„åŠŸèƒ½ï¼Œ
         * å³ï¼šæ¯å½“ä½¿ç”¨printlnæ–¹æ³•å†™å‡ºä¸€è¡Œå­—ç¬¦ä¸²åå°±ä¼šè‡ªåŠ¨è°ƒç”¨flush
         * æ³¨ï¼šä½¿ç”¨è‡ªåŠ¨è¡Œåˆ·æ–°å¯ä»¥æé«˜å†™å‡ºæ•°æ®çš„å³æ—¶æ€§ï¼Œ
         * ä½†æ˜¯ç”±äºä¼šæé«˜å†™å‡ºæ¬¡æ•°ï¼Œå¿…ç„¶ä¼šå¯¼è‡´å†™æ•ˆç‡é™ä½ã€‚
         */</span>
         <span class="token class-name">PrintWriter</span> printWriter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PrintWriter</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">BufferedWriter</span><span class="token punctuation">(</span>
                        <span class="token keyword">new</span> <span class="token class-name">OutputStreamWriter</span><span class="token punctuation">(</span> <span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span>fileName<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">&quot;UTF-8&quot;</span><span class="token punctuation">)</span>
                <span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">while</span><span class="token punctuation">(</span>scanner<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
           <span class="token class-name">String</span> content <span class="token operator">=</span> scanner<span class="token punctuation">.</span><span class="token function">nextLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
           <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token string">&quot;quit&quot;</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
               <span class="token keyword">break</span><span class="token punctuation">;</span>
           <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
<span class="token comment">//               printWriter.println(content);</span>
               printWriter<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span><span class="token punctuation">;</span>
               printWriter<span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
           <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        printWriter<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;é€€å‡º&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><!--]--></div><footer class="page-meta"><!----><!----><!----></footer><nav class="page-nav"><p class="inner"><span class="prev"> â† <a href="/FileSystem/" class="nav-link router-link-active" aria-label="Back To ç›®å½•"><!--[--><!--]--> Back To ç›®å½• <!--[--><!--]--></a></span><!----></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script src="/assets/js/runtime~app.2c87fbe0.js" defer></script><script src="/assets/js/95615.aba5921d.js" defer></script><script src="/assets/js/app.4aafd1f6.js" defer></script>
  </body>
</html>

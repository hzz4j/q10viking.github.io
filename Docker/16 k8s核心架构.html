<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.27">
    <link rel="icon" href="/images/favicon-32x32.png"><title>é™é»˜ã®Blog</title><meta name="description" content="é™é»˜çš„Vuepress Blog">
    <link rel="preload" href="/assets/js/runtime~app.2c87fbe0.js" as="script"><link rel="preload" href="/assets/css/styles.b779b927.css" as="style"><link rel="preload" href="/assets/js/95615.aba5921d.js" as="script"><link rel="preload" href="/assets/js/app.4aafd1f6.js" as="script">
    <link rel="stylesheet" href="/assets/css/styles.b779b927.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><!----><span class="site-name can-hide">é™é»˜ã®Blog</span></a></span><div class="navbar-links-wrapper" style=""><!--[--><!--]--><nav class="navbar-links can-hide"><!--[--><div class="navbar-links-item"><a href="/topicNav/" class="nav-link" aria-label="ğŸ“—Menu"><!--[--><!--]--> ğŸ“—Menu <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/aboutme/" class="nav-link" aria-label="AboutMe"><!--[--><!--]--> AboutMe <!--[--><!--]--></a></div><div class="navbar-links-item"><a class="nav-link external" href="https://github.com/Q10Viking/q10viking.github.io" rel="noopener noreferrer" target="_blank" aria-label="Github"><!--[--><!--]--> Github <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-dark-button" title="toggle dark mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><div id="docsearch-container"></div></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-links"><!--[--><div class="navbar-links-item"><a href="/topicNav/" class="nav-link" aria-label="ğŸ“—Menu"><!--[--><!--]--> ğŸ“—Menu <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/aboutme/" class="nav-link" aria-label="AboutMe"><!--[--><!--]--> AboutMe <!--[--><!--]--></a></div><div class="navbar-links-item"><a class="nav-link external" href="https://github.com/Q10Viking/q10viking.github.io" rel="noopener noreferrer" target="_blank" aria-label="Github"><!--[--><!--]--> Github <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-links"><!--[--><!--[--><p class="sidebar-heading sidebar-item"></p><ul class=""><li><!--[--><a aria-current="page" href="/Docker/16%20k8s%E6%A0%B8%E5%BF%83%E6%9E%B6%E6%9E%84.html#ç†è§£node-pod-containerçš„å…³ç³»" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="ç†è§£Node Pod Containerçš„å…³ç³»"><!--[--><!--]--> ç†è§£Node Pod Containerçš„å…³ç³» <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/Docker/16%20k8s%E6%A0%B8%E5%BF%83%E6%9E%B6%E6%9E%84.html#k8sç»„ä»¶" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="K8Sç»„ä»¶"><!--[--><!--]--> K8Sç»„ä»¶ <!--[--><!--]--></a><ul class="sidebar-sub-items"><li><!--[--><a aria-current="page" href="/Docker/16%20k8s%E6%A0%B8%E5%BF%83%E6%9E%B6%E6%9E%84.html#master-nodeç»„ä»¶" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="master nodeç»„ä»¶"><!--[--><!--]--> master nodeç»„ä»¶ <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/Docker/16%20k8s%E6%A0%B8%E5%BF%83%E6%9E%B6%E6%9E%84.html#work-nodeç»„ä»¶" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="work nodeç»„ä»¶"><!--[--><!--]--> work nodeç»„ä»¶ <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--></li><li><!--[--><a aria-current="page" href="/Docker/16%20k8s%E6%A0%B8%E5%BF%83%E6%9E%B6%E6%9E%84.html#ç»„ä»¶åè°ƒå·¥ä½œè¿‡ç¨‹" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="ç»„ä»¶åè°ƒå·¥ä½œè¿‡ç¨‹"><!--[--><!--]--> ç»„ä»¶åè°ƒå·¥ä½œè¿‡ç¨‹ <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/Docker/16%20k8s%E6%A0%B8%E5%BF%83%E6%9E%B6%E6%9E%84.html#å‚è€ƒ" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="å‚è€ƒ"><!--[--><!--]--> å‚è€ƒ <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>K8S çš„æ ¸å¿ƒåŠŸèƒ½ï¼šè‡ªåŠ¨åŒ–è¿ç»´ç®¡ç†å¤šä¸ªå®¹å™¨åŒ–ç¨‹åº</p><p>ä»å®è§‚æ¶æ„ä¸Šæ¥äº†è§£K8S çš„è®¾è®¡æ€æƒ³ï¼Œçœ‹çœ‹å®ƒæ˜¯æ€ä¹ˆç®¡ç†å®¹å™¨çš„</p></div><p>åœ¨ä½¿ç”¨kubernetesä¹‹å‰ï¼Œä½ éœ€è¦æŠŠä½ çš„æœåŠ¡å…ˆå®¹å™¨åŒ–ï¼Œæˆ–è€…ä½¿ç”¨dockerhubä¸Šäººå®¶åŒ…å¥½çš„Imageå»ºç«‹ã€‚æ¯”å¦‚ä¸€ä¸ªnginxåº”ç”¨ï¼Œmysqlåº”ç”¨éƒ½å¯ä»¥æ¶è®¾åœ¨k8sä¸Šé¢ã€‚</p><h2 id="ç†è§£node-pod-containerçš„å…³ç³»" tabindex="-1"><a class="header-anchor" href="#ç†è§£node-pod-containerçš„å…³ç³»" aria-hidden="true">#</a> ç†è§£Node Pod Containerçš„å…³ç³»</h2><p><img src="/images/Docker/IapesES8j6g.png" alt="img"></p><ul><li>Nodeæ˜¯K8Sä¸­çš„ä¸€å°æœºå™¨</li><li>Podæ˜¯K8Sä¸­çš„åŸºæœ¬å•ä½ï¼Œè´Ÿè´£è£…ä¸€ä¸ªæˆ–è€…å¤šä¸ªContainerï¼ˆå®¹å™¨ï¼‰</li><li>Containerå°±æ˜¯æˆ‘ä»¬å®¹å™¨åŒ–å¥½çš„åº”ç”¨</li></ul><blockquote><p>éœ€è¦Podæ¥ä½œä¸ºåŸºæœ¬å•ä½çš„åŸå› æ˜¯ï¼Œå¦‚æœæ¯ä¸ªContaineréƒ½ä½œä¸ºK8Sçš„æœ€å°å•ä½ï¼Œé‚£ä¹ˆç®¡ç†ç½‘ç»œä¼šå˜å¾—éå¸¸å›°éš¾ã€‚ä¸€Podæ¥éš”ç¦»ï¼ŒåŒä¸€ä¸ªPodé‡Œé¢çš„Containerèƒ½å¤Ÿåœ¨æœ¬åœ°ç«¯äº’ç›¸è¿çº¿ï¼Œåªæœ‰éœ€è¦æä¾›ç»™å¤–éƒ¨çš„APIæ‰éœ€è¦æš´éœ²ç«¯å£</p></blockquote><h2 id="k8sç»„ä»¶" tabindex="-1"><a class="header-anchor" href="#k8sç»„ä»¶" aria-hidden="true">#</a> K8Sç»„ä»¶</h2><p>K8S æ˜¯å±äº<strong>ä¸»ä»è®¾å¤‡æ¨¡å‹ï¼ˆMaster-Slave æ¶æ„ï¼‰</strong>ï¼Œå³æœ‰ Master èŠ‚ç‚¹è´Ÿè´£æ ¸å¿ƒçš„è°ƒåº¦ã€ç®¡ç†å’Œè¿ç»´ï¼ŒSlave èŠ‚ç‚¹åˆ™æ‰§è¡Œç”¨æˆ·çš„ç¨‹åºã€‚ä½†æ˜¯åœ¨ K8S ä¸­ï¼Œä¸»èŠ‚ç‚¹ä¸€èˆ¬è¢«ç§°ä¸º<strong>Master Node æˆ–è€… Head Node</strong>ï¼Œè€Œä»èŠ‚ç‚¹åˆ™è¢«ç§°ä¸º<strong>Worker Node æˆ–è€… Node</strong>ã€‚</p><p>æ³¨æ„ï¼šMaster Node å’Œ Worker Node æ˜¯åˆ†åˆ«å®‰è£…äº† K8S çš„ Master å’Œ Woker ç»„ä»¶çš„å®ä½“æœåŠ¡å™¨ï¼Œæ¯ä¸ª Node éƒ½å¯¹åº”äº†ä¸€å°å®ä½“æœåŠ¡å™¨ï¼ˆè™½ç„¶ Master Node å¯ä»¥å’Œå…¶ä¸­ä¸€ä¸ª Worker Node å®‰è£…åœ¨åŒä¸€å°æœåŠ¡å™¨ï¼Œä½†æ˜¯å»ºè®® Master Node å•ç‹¬éƒ¨ç½²ï¼‰ï¼Œ<strong>æ‰€æœ‰ Master Node å’Œ Worker Node ç»„æˆäº† K8S é›†ç¾¤</strong>ï¼ŒåŒä¸€ä¸ªé›†ç¾¤å¯èƒ½å­˜åœ¨å¤šä¸ª Master Node å’Œ Worker Nodeã€‚</p><p><a href="https://kubernetes.io/zh-cn/docs/concepts/overview/components/" target="_blank" rel="noopener noreferrer">Kubernetes ç»„ä»¶ | Kubernetes<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a></p><blockquote><p>k8sçš„å›¾</p></blockquote><p><img src="/images/Docker/110769.png" alt="https://note.youdao.com/yws/public/resource/bc7bee305611b52d6900ba209a92bd4d/xmlnote/A72D19C05A594433B65EB9E1633B0FA2/110769"></p><blockquote><p>ç›®å‰çš„æ–°å›¾(æ„Ÿè§‰æ²¡æœ‰ä¸Šå›¾æ¸…æ™°)</p></blockquote><p><img src="/images/Docker/components-of-kubernetes.svg" alt="Kubernetes çš„ç»„ä»¶"></p><p>å˜åŒ–å°±æ˜¯K8S Masteræ”¹ä¸ºäº†Control Plane</p><hr><h3 id="master-nodeç»„ä»¶" tabindex="-1"><a class="header-anchor" href="#master-nodeç»„ä»¶" aria-hidden="true">#</a> master nodeç»„ä»¶</h3><ul><li><strong>API Server</strong>ã€‚<strong>K8S çš„è¯·æ±‚å…¥å£æœåŠ¡</strong>ã€‚API Server è´Ÿè´£æ¥æ”¶ K8S æ‰€æœ‰è¯·æ±‚ï¼ˆæ¥è‡ª UI ç•Œé¢æˆ–è€… CLI å‘½ä»¤è¡Œå·¥å…·ï¼‰ï¼Œç„¶åï¼ŒAPI Server æ ¹æ®ç”¨æˆ·çš„å…·ä½“è¯·æ±‚ï¼Œå»é€šçŸ¥å…¶ä»–ç»„ä»¶å¹²æ´»ã€‚</li><li><strong>Scheduler</strong>ã€‚<strong>K8S æ‰€æœ‰ Worker Node çš„è°ƒåº¦å™¨</strong>ã€‚å½“ç”¨æˆ·è¦éƒ¨ç½²æœåŠ¡æ—¶ï¼ŒScheduler ä¼šé€‰æ‹©æœ€åˆé€‚çš„ Worker Nodeï¼ˆæœåŠ¡å™¨ï¼‰æ¥éƒ¨ç½²ã€‚</li><li><strong>Controller Manager</strong>ã€‚<strong>K8S æ‰€æœ‰ Worker Node çš„ç›‘æ§å™¨</strong>ã€‚Controller Manager æœ‰å¾ˆå¤šå…·ä½“çš„ Controllerï¼Œ Node Controllerã€Service Controllerã€Volume Controller ç­‰ã€‚Controller è´Ÿè´£ç›‘æ§å’Œè°ƒæ•´åœ¨ Worker Node ä¸Šéƒ¨ç½²çš„æœåŠ¡çš„çŠ¶æ€ï¼Œæ¯”å¦‚ç”¨æˆ·è¦æ±‚ A æœåŠ¡éƒ¨ç½² 2 ä¸ªå‰¯æœ¬ï¼Œé‚£ä¹ˆå½“å…¶ä¸­ä¸€ä¸ªæœåŠ¡æŒ‚äº†çš„æ—¶å€™ï¼ŒController ä¼šé©¬ä¸Šè°ƒæ•´ï¼Œè®© Scheduler å†é€‰æ‹©ä¸€ä¸ª Worker Node é‡æ–°éƒ¨ç½²æœåŠ¡ã€‚</li><li><strong>etcd</strong>ã€‚<strong>K8S çš„å­˜å‚¨æœåŠ¡</strong>ã€‚etcd å­˜å‚¨äº† K8S çš„å…³é”®é…ç½®å’Œç”¨æˆ·é…ç½®ï¼ŒK8S ä¸­ä»… API Server æ‰å…·å¤‡è¯»å†™æƒé™ï¼Œå…¶ä»–ç»„ä»¶å¿…é¡»é€šè¿‡ API Server çš„æ¥å£æ‰èƒ½è¯»å†™æ•°æ®</li></ul><h3 id="work-nodeç»„ä»¶" tabindex="-1"><a class="header-anchor" href="#work-nodeç»„ä»¶" aria-hidden="true">#</a> work nodeç»„ä»¶</h3><ul><li><strong>Kubelet</strong>ã€‚<strong>Worker Node çš„ç›‘è§†å™¨ï¼Œä»¥åŠä¸ Master Node çš„é€šè®¯å™¨</strong>ã€‚Kubelet æ˜¯ Master Node å®‰æ’åœ¨ Worker Node ä¸Šçš„â€œçœ¼çº¿â€ï¼Œå®ƒä¼šå®šæœŸå‘ Master Node æ±‡æŠ¥è‡ªå·± Node ä¸Šè¿è¡Œçš„æœåŠ¡çš„çŠ¶æ€ï¼Œå¹¶æ¥å—æ¥è‡ª Master Node çš„æŒ‡ç¤ºé‡‡å–è°ƒæ•´æªæ–½ã€‚è´Ÿè´£æ§åˆ¶æ‰€æœ‰å®¹å™¨çš„å¯åŠ¨åœæ­¢ï¼Œä¿è¯èŠ‚ç‚¹å·¥ä½œæ­£å¸¸ã€‚</li><li><strong>Kube-Proxy</strong>ã€‚<strong>K8S çš„ç½‘ç»œä»£ç†</strong>ã€‚Kube-Proxy è´Ÿè´£ Node åœ¨ K8S çš„ç½‘ç»œé€šè®¯ã€ä»¥åŠå¯¹å¤–éƒ¨ç½‘ç»œæµé‡çš„è´Ÿè½½å‡è¡¡ã€‚</li><li><strong>Container Runtime</strong>ã€‚<strong>Worker Node çš„è¿è¡Œç¯å¢ƒ</strong>ã€‚è´Ÿè´£è¿è¡Œå®¹å™¨çš„è½¯ä»¶ï¼Œå³å®‰è£…äº†å®¹å™¨åŒ–æ‰€éœ€çš„è½¯ä»¶ç¯å¢ƒç¡®ä¿å®¹å™¨åŒ–ç¨‹åºèƒ½å¤Ÿè·‘èµ·æ¥ï¼Œæ¯”å¦‚ Docker Engineè¿è¡Œç¯å¢ƒã€‚ <ul><li>Kubernetes æ”¯æŒè®¸å¤šå®¹å™¨è¿è¡Œç¯å¢ƒï¼Œä¾‹å¦‚ <a href="https://containerd.io/docs/" target="_blank" rel="noopener noreferrer">containerd<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a>ã€ <a href="https://cri-o.io/#what-is-cri-o" target="_blank" rel="noopener noreferrer">CRI-O<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a> ä»¥åŠ <a href="https://github.com/kubernetes/community/blob/master/contributors/devel/sig-node/container-runtime-interface.md" target="_blank" rel="noopener noreferrer">Kubernetes CRI (å®¹å™¨è¿è¡Œç¯å¢ƒæ¥å£)<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a> çš„å…¶ä»–ä»»ä½•å®ç°</li><li>å…¶å®containerdåªæ˜¯ä»Dockerä¸­åˆ†ç¦»å‡ºæ¥çš„åº•å±‚å®¹å™¨è¿è¡Œæ—¶ï¼Œä½¿ç”¨èµ·æ¥å’ŒDockerå¹¶æ²¡æœ‰å•¥åŒºåˆ«ï¼Œä»Dockerè½¬å‹containerdéå¸¸ç®€å•ï¼ŒåŸºæœ¬æ²¡æœ‰ä»€ä¹ˆé—¨æ§›ã€‚åªè¦æŠŠä¹‹å‰Dockerå‘½ä»¤ä¸­çš„dockeræ”¹ä¸ºcrictlåŸºæœ¬å°±å¯ä»¥äº†ï¼Œéƒ½æ˜¯åŒä¸€ä¸ªå…¬å¸å‡ºå“çš„ä¸œè¥¿ï¼Œç”¨æ³•éƒ½ä¸€æ ·</li></ul></li></ul><h2 id="ç»„ä»¶åè°ƒå·¥ä½œè¿‡ç¨‹" tabindex="-1"><a class="header-anchor" href="#ç»„ä»¶åè°ƒå·¥ä½œè¿‡ç¨‹" aria-hidden="true">#</a> ç»„ä»¶åè°ƒå·¥ä½œè¿‡ç¨‹</h2><blockquote><p>ç”¨K8Séƒ¨ç½²Nginxçš„è¿‡ç¨‹ä¸­ï¼ŒK8Så†…éƒ¨å„ç»„ä»¶æ˜¯å¦‚ä½•ååŒå·¥ä½œçš„ <a href="https://q10viking.github.io/Docker/15%20k8s%E9%83%A8%E7%BD%B2nginx.html" target="_blank" rel="noopener noreferrer">k8séƒ¨ç½²Nginx<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a></p></blockquote><p><strong>æˆ‘ä»¬åœ¨masterèŠ‚ç‚¹æ‰§è¡Œä¸€æ¡å‘½ä»¤è¦masteréƒ¨ç½²ä¸€ä¸ªnginxåº”ç”¨</strong></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>kubectl create deployment nginx <span class="token parameter variable">--image</span><span class="token operator">=</span>nginx
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><ul><li><p>è¿™æ¡å‘½ä»¤é¦–å…ˆå‘åˆ°masterèŠ‚ç‚¹çš„ç½‘å…³api serverï¼Œè¿™æ˜¯matserçš„å”¯ä¸€å…¥å£</p></li><li><p>api serverå°†å‘½ä»¤è¯·æ±‚äº¤ç»™controller mannagerè¿›è¡Œæ§åˆ¶</p></li><li><p>controller mannager è¿›è¡Œåº”ç”¨éƒ¨ç½²è§£æ</p></li><li><p>controller mannager ä¼šç”Ÿæˆä¸€æ¬¡éƒ¨ç½²ä¿¡æ¯ï¼Œå¹¶é€šè¿‡api serverå°†ä¿¡æ¯å­˜å…¥etcdå­˜å‚¨ä¸­</p></li><li><p>schedulerè°ƒåº¦å™¨é€šè¿‡api serverä»etcdå­˜å‚¨ä¸­ï¼Œæ‹¿åˆ°è¦éƒ¨ç½²çš„åº”ç”¨ï¼Œå¼€å§‹è°ƒåº¦çœ‹å“ªä¸ªèŠ‚ç‚¹æœ‰èµ„æºé€‚åˆéƒ¨ç½²</p></li><li><p>scheduleræŠŠè®¡ç®—å‡ºæ¥çš„è°ƒåº¦ä¿¡æ¯é€šè¿‡api serverå†æ”¾åˆ°etcdä¸­</p></li><li><p>æ¯ä¸€ä¸ªnodeèŠ‚ç‚¹çš„ç›‘æ§ç»„ä»¶kubeletï¼Œéšæ—¶å’Œmasterä¿æŒè”ç³»ï¼ˆç»™api-serverå‘é€è¯·æ±‚ä¸æ–­è·å–æœ€æ–°æ•°æ®ï¼‰ï¼Œæ‹¿åˆ°masterèŠ‚ç‚¹å­˜å‚¨åœ¨etcdä¸­çš„éƒ¨ç½²ä¿¡æ¯</p></li><li><p>å‡è®¾node1çš„kubeletæ‹¿åˆ°éƒ¨ç½²ä¿¡æ¯ï¼Œæ˜¾ç¤ºä»–è‡ªå·±èŠ‚ç‚¹è¦éƒ¨ç½²æŸæŸåº”ç”¨</p><ul><li><img src="/images/Docker/image-20230425105647477.png" alt="image-20230425105647477"></li></ul></li><li><p>kubeletå°±è‡ªå·±runä¸€ä¸ªåº”ç”¨åœ¨å½“å‰æœºå™¨ä¸Šï¼Œå¹¶éšæ—¶ç»™masteræ±‡æŠ¥å½“å‰åº”ç”¨çš„çŠ¶æ€ä¿¡æ¯</p></li><li><p>nodeå’Œmasterä¹Ÿæ˜¯é€šè¿‡masterçš„api-serverç»„ä»¶è”ç³»çš„</p></li><li><p>æ¯ä¸€ä¸ªæœºå™¨ä¸Šçš„kube-proxyèƒ½çŸ¥é“é›†ç¾¤çš„æ‰€æœ‰ç½‘ç»œï¼Œåªè¦nodeè®¿é—®åˆ«äººæˆ–è€…åˆ«äººè®¿é—®nodeï¼Œnodeä¸Šçš„kube-proxyç½‘ç»œä»£ç†è‡ªåŠ¨è®¡ç®—è¿›è¡Œæµé‡è½¬å‘</p><ul><li><p>nginxåº”ç”¨éƒ¨ç½²åœ¨k8s-node1ä¸Šï¼Œæˆ‘ä»¬è®¿é—®k8s-node2çš„åœ°å€ï¼Œbubeletä¼šæƒŠé†’è½¬å‘</p><p><img src="/images/Docker/image-20230425105853193.png" alt="image-20230425105853193"></p></li></ul></li></ul><h2 id="å‚è€ƒ" tabindex="-1"><a class="header-anchor" href="#å‚è€ƒ" aria-hidden="true">#</a> å‚è€ƒ</h2><p><a href="https://medium.com/starbugs/kubernetes-%E6%95%99%E5%AD%B8-%E4%B8%80-%E6%A6%82%E5%BF%B5%E8%88%87%E6%9E%B6%E6%A7%8B-954caa9b1558" target="_blank" rel="noopener noreferrer">Medium-Kubernetes æ•™å­¸â€Šâ€”â€Šä»€éº¼æ˜¯ Podï¼Ÿä»€éº¼ Node<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a></p><p><a href="https://kubernetes.io/zh-cn/docs/concepts/overview/components/" target="_blank" rel="noopener noreferrer">Kubernetes ç»„ä»¶ | Kubernetes<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a></p><!--]--></div><footer class="page-meta"><!----><!----><!----></footer><nav class="page-nav"><p class="inner"><span class="prev"> â† <a href="/Docker/" class="nav-link router-link-active" aria-label="Back To ç›®å½•"><!--[--><!--]--> Back To ç›®å½• <!--[--><!--]--></a></span><!----></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script src="/assets/js/runtime~app.2c87fbe0.js" defer></script><script src="/assets/js/95615.aba5921d.js" defer></script><script src="/assets/js/app.4aafd1f6.js" defer></script>
  </body>
</html>

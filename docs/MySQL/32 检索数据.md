---
sidebarDepth: 3
sidebar: auto
prev:
  text: Back To ç›®å½•
  link: /MySQL/
typora-root-url: ..\.vuepress\public
---



::: tip

æœ¬ç« å®žæˆ˜æ•°æ®æ¥æºï¼Œå‚è€ƒï¼š[çŽ‹è€…è£è€€æ•°æ®](https://q10viking.github.io/MySQL/31%20SQL%E5%87%BD%E6%95%B0.html#%E6%B5%8B%E8%AF%95%E6%95%B0%E6%8D%AE)

:::





## SELECT æŸ¥è¯¢çš„åŸºç¡€è¯­æ³•

### æŸ¥è¯¢åˆ—

> å¯¹æ•°æ®è¡¨ä¸­çš„æŸä¸€åˆ—è¿›è¡Œæ£€ç´¢ï¼Œåœ¨ SELECT åŽé¢åŠ ä¸Šè¿™ä¸ªåˆ—çš„å­—æ®µåå³å¯

æ¯”å¦‚æˆ‘ä»¬æƒ³è¦æ£€ç´¢æ•°æ®è¡¨ä¸­éƒ½æœ‰å“ªäº›è‹±é›„

```sql
mysql> SELECT name FROM heros;
+--------------+
| name         |
+--------------+
| å¤ä¾¯æƒ‡       |
| é’Ÿæ— è‰³       |
| å¼ é£ž         |
| ç‰›é­”         |
| å•å¸ƒ         |
...
| å“ªå’         |
| é˜¿è½²         |
| å¨œå¯éœ²éœ²     |
| å…°é™µçŽ‹       |
| é“            |
| ç™¾é‡Œå®ˆçº¦     |
+--------------+
```

#### æŸ¥è¯¢å¤šåˆ—

å¯¹å¤šä¸ªåˆ—è¿›è¡Œæ£€ç´¢ï¼Œåœ¨åˆ—åä¹‹é—´ç”¨é€—å· (,) åˆ†å‰²å³å¯

æ£€ç´¢æœ‰å“ªäº›è‹±é›„ï¼Œä»–ä»¬çš„æœ€å¤§ç”Ÿå‘½ã€æœ€å¤§æ³•åŠ›ã€æœ€å¤§ç‰©æ”»å’Œæœ€å¤§ç‰©é˜²åˆ†åˆ«æ˜¯å¤šå°‘

```sql
mysql> SELECT name, hp_max, mp_max, attack_max, defense_max FROM heros;
+--------------+--------+--------+------------+-------------+
| name         | hp_max | mp_max | attack_max | defense_max |
+--------------+--------+--------+------------+-------------+
| å¤ä¾¯æƒ‡       |   7350 |   1746 |        321 |         397 |
| é’Ÿæ— è‰³       |   7000 |   1760 |        318 |         409 |
| å¼ é£ž         |   8341 |    100 |        301 |         504 |
| ç‰›é­”         |   8476 |   1926 |        273 |         394 |
| å•å¸ƒ         |   7344 |      0 |        343 |         390 |
...
| å“ªå’         |   7268 |   1808 |        320 |         408 |
| é˜¿è½²         |   5968 |      0 |        427 |         349 |
| å¨œå¯éœ²éœ²     |   6205 |   1808 |        385 |         359 |
| å…°é™µçŽ‹       |   6232 |   1822 |        388 |         342 |
| é“            |   6700 |   1784 |        328 |         388 |
| ç™¾é‡Œå®ˆçº¦     |   5611 |   1784 |        410 |         329 |
+--------------+--------+--------+------------+-------------+
```



### åˆ«å

```sql
mysql> SELECT name AS hero_name FROM heros;
+--------------+
| hero_name    |
+--------------+
| å¤ä¾¯æƒ‡       |
| é’Ÿæ— è‰³       |
| å¼ é£ž         |
| ç‰›é­”         |
| å•å¸ƒ         |
...
| å“ªå’         |
| é˜¿è½²         |
| å¨œå¯éœ²éœ²     |
| å…°é™µçŽ‹       |
| é“            |
| ç™¾é‡Œå®ˆçº¦     |
+--------------+
```

### æŸ¥è¯¢å¸¸æ•°

- åœ¨ SELECT æŸ¥è¯¢ç»“æžœä¸­å¢žåŠ ä¸€åˆ—å›ºå®šçš„å¸¸æ•°åˆ—ã€‚è¿™åˆ—çš„å–å€¼æ˜¯æˆ‘ä»¬æŒ‡å®šçš„ï¼Œè€Œä¸æ˜¯ä»Žæ•°æ®è¡¨ä¸­åŠ¨æ€å–å‡ºçš„
- å¦‚æžœæˆ‘ä»¬æƒ³æ•´åˆä¸åŒçš„æ•°æ®æºï¼Œ**ç”¨å¸¸æ•°åˆ—ä½œä¸ºè¿™ä¸ªè¡¨çš„æ ‡è®°**ï¼Œå°±éœ€è¦æŸ¥è¯¢å¸¸æ•°

```sql
mysql> SELECT 'çŽ‹è€…è£è€€' as platform, name FROM heros;
+--------------+--------------+
| platform     | name         |
+--------------+--------------+
| çŽ‹è€…è£è€€     | å¤ä¾¯æƒ‡       |
| çŽ‹è€…è£è€€     | é’Ÿæ— è‰³       |
| çŽ‹è€…è£è€€     | å¼ é£ž         |
| çŽ‹è€…è£è€€     | ç‰›é­”         |
| çŽ‹è€…è£è€€     | å•å¸ƒ         |
...
| çŽ‹è€…è£è€€     | å“ªå’         |
| çŽ‹è€…è£è€€     | é˜¿è½²         |
| çŽ‹è€…è£è€€     | å¨œå¯éœ²éœ²     |
| çŽ‹è€…è£è€€     | å…°é™µçŽ‹       |
| çŽ‹è€…è£è€€     | é“            |
| çŽ‹è€…è£è€€     | ç™¾é‡Œå®ˆçº¦     |
+--------------+--------------+
```

éœ€è¦è¯´æ˜Žçš„æ˜¯ï¼Œå¦‚æžœå¸¸æ•°æ˜¯ä¸ªå­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆä½¿ç”¨å•å¼•å·`â€˜çŽ‹è€…è£è€€â€™`å°±éžå¸¸é‡è¦äº†ï¼Œæ¯”å¦‚â€˜çŽ‹è€…è£è€€â€™ã€‚å•å¼•å·è¯´æ˜Žå¼•å·ä¸­çš„å­—ç¬¦ä¸²æ˜¯ä¸ªå¸¸æ•°ï¼Œå¦åˆ™ SQL ä¼šæŠŠçŽ‹è€…è£è€€å½“æˆåˆ—åè¿›è¡ŒæŸ¥è¯¢ï¼Œä½†å®žé™…ä¸Šæ•°æ®è¡¨é‡Œæ²¡æœ‰è¿™ä¸ªåˆ—åï¼Œå°±ä¼šå¼•èµ·é”™è¯¯ã€‚

å¦‚æžœå¸¸æ•°æ˜¯ä¸ªæ•°å­—ï¼Œå°±å¯ä»¥ç›´æŽ¥å†™æ•°å­—ï¼Œä¸éœ€è¦å•å¼•å·

```sql
SELECT 123 AS platform, name FROM heros;
```

### åŽ»é™¤é‡å¤è¡ŒðŸ‘

å…³äºŽå•ä¸ªè¡¨çš„ SELECT æŸ¥è¯¢ï¼Œè¿˜æœ‰ä¸€ä¸ªéžå¸¸å®žç”¨çš„æ“ä½œï¼Œå°±æ˜¯ä»Žç»“æžœä¸­åŽ»æŽ‰é‡å¤çš„è¡Œã€‚ä½¿ç”¨çš„å…³é”®å­—æ˜¯ DISTINCT

æ¯”å¦‚æˆ‘ä»¬æƒ³è¦çœ‹ä¸‹ heros è¡¨ä¸­å…³äºŽæ”»å‡»èŒƒå›´çš„å–å€¼éƒ½æœ‰å“ªäº›

```sql
mysql> SELECT DISTINCT attack_range FROM heros;
+--------------+
| attack_range |
+--------------+
| è¿‘æˆ˜         |
| è¿œç¨‹         |
+--------------+
```

å¦‚æžœæˆ‘ä»¬å¸¦ä¸Šè‹±é›„åç§°ï¼Œä¼šæ˜¯æ€Žæ ·å‘¢ï¼š

```sql
mysql> SELECT DISTINCT attack_range, name FROM heros;
+--------------+--------------+
| attack_range | name         |
+--------------+--------------+
| è¿‘æˆ˜         | å¤ä¾¯æƒ‡       |
| è¿‘æˆ˜         | é’Ÿæ— è‰³       |
| è¿‘æˆ˜         | å¼ é£ž         |
| è¿‘æˆ˜         | ç‰›é­”         |
| è¿‘æˆ˜         | å•å¸ƒ         |
...
| è¿‘æˆ˜         | å“ªå’         |
| è¿‘æˆ˜         | é˜¿è½²         |
| è¿‘æˆ˜         | å¨œå¯éœ²éœ²     |
| è¿‘æˆ˜         | å…°é™µçŽ‹       |
| è¿‘æˆ˜         | é“            |
| è¿œç¨‹         | ç™¾é‡Œå®ˆçº¦     |
+--------------+--------------+
```

è¿™é‡Œæœ‰ä¸¤ç‚¹éœ€è¦æ³¨æ„ï¼š

1. DISTINCT éœ€è¦**æ”¾åˆ°æ‰€æœ‰åˆ—åçš„å‰é¢**ï¼Œå¦‚æžœå†™æˆ`SELECT name, DISTINCT attack_range FROM heros`ä¼šæŠ¥é”™ã€‚
2. DISTINCT å…¶å®žæ˜¯å¯¹åŽé¢æ‰€æœ‰åˆ—åçš„ç»„åˆè¿›è¡ŒåŽ»é‡ï¼Œä½ èƒ½çœ‹åˆ°æœ€åŽçš„ç»“æžœæ˜¯ 69 æ¡ï¼Œå› ä¸ºè¿™ 69 ä¸ªè‹±é›„åç§°ä¸åŒï¼Œéƒ½æœ‰æ”»å‡»èŒƒå›´ï¼ˆattack_rangeï¼‰è¿™ä¸ªå±žæ€§å€¼ã€‚å¦‚æžœä½ æƒ³è¦çœ‹éƒ½æœ‰å“ªäº›ä¸åŒçš„æ”»å‡»èŒƒå›´ï¼ˆattack_rangeï¼‰ï¼Œåªéœ€è¦å†™`DISTINCT attack_range`å³å¯ï¼ŒåŽé¢ä¸éœ€è¦å†åŠ å…¶ä»–çš„åˆ—åäº†ã€‚

### æŽ’åºæ£€ç´¢æ•°æ®ðŸ˜˜

1. æŽ’åºçš„åˆ—åï¼šORDER BY åŽé¢**å¯ä»¥æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªåˆ—å**ï¼Œå¦‚æžœæ˜¯å¤šä¸ªåˆ—åè¿›è¡ŒæŽ’åºï¼Œä¼šæŒ‰ç…§åŽé¢ç¬¬ä¸€ä¸ªåˆ—å…ˆè¿›è¡ŒæŽ’åºï¼Œå½“ç¬¬ä¸€åˆ—çš„å€¼ç›¸åŒçš„æ—¶å€™ï¼Œå†æŒ‰ç…§ç¬¬äºŒåˆ—è¿›è¡ŒæŽ’åºï¼Œä»¥æ­¤ç±»æŽ¨ã€‚
2. æŽ’åºçš„é¡ºåºï¼šORDER BY åŽé¢å¯ä»¥æ³¨æ˜ŽæŽ’åºè§„åˆ™ï¼ŒASC ä»£è¡¨é€’å¢žæŽ’åºï¼ŒDESC ä»£è¡¨é€’å‡æŽ’åºã€‚å¦‚æžœæ²¡æœ‰æ³¨æ˜ŽæŽ’åºè§„åˆ™ï¼Œé»˜è®¤æƒ…å†µä¸‹æ˜¯æŒ‰ç…§ ASC é€’å¢žæŽ’åºã€‚æˆ‘ä»¬å¾ˆå®¹æ˜“ç†è§£ ORDER BY å¯¹æ•°å€¼ç±»åž‹å­—æ®µçš„æŽ’åºè§„åˆ™ï¼Œä½†å¦‚æžœæŽ’åºå­—æ®µç±»åž‹ä¸ºæ–‡æœ¬æ•°æ®ï¼Œå°±éœ€è¦å‚è€ƒæ•°æ®åº“çš„è®¾ç½®æ–¹å¼äº†ï¼Œè¿™æ ·æ‰èƒ½åˆ¤æ–­ A æ˜¯åœ¨ B ä¹‹å‰ï¼Œè¿˜æ˜¯åœ¨ B ä¹‹åŽã€‚æ¯”å¦‚ä½¿ç”¨ MySQL åœ¨åˆ›å»ºå­—æ®µçš„æ—¶å€™è®¾ç½®ä¸º BINARY å±žæ€§ï¼Œå°±ä»£è¡¨åŒºåˆ†å¤§å°å†™ã€‚
3. **éžé€‰æ‹©åˆ—æŽ’åº**ï¼šORDER BY å¯ä»¥ä½¿ç”¨éžé€‰æ‹©åˆ—è¿›è¡ŒæŽ’åºï¼Œæ‰€ä»¥å³ä½¿åœ¨ SELECT åŽé¢æ²¡æœ‰è¿™ä¸ªåˆ—åï¼Œä½ åŒæ ·å¯ä»¥æ”¾åˆ° ORDER BY åŽé¢è¿›è¡ŒæŽ’åºã€‚
4. ORDER BY çš„ä½ç½®ï¼šORDER BY é€šå¸¸ä½äºŽ SELECT è¯­å¥çš„æœ€åŽä¸€æ¡å­å¥ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚



æ˜¾ç¤ºè‹±é›„åç§°åŠæœ€å¤§ç”Ÿå‘½å€¼ï¼ŒæŒ‰ç…§æœ€å¤§ç”Ÿå‘½å€¼ä»Žé«˜åˆ°ä½Žçš„æ–¹å¼è¿›è¡ŒæŽ’åº

```sql
mysql> SELECT name, hp_max FROM heros ORDER BY hp_max DESC;
+--------------+--------+
| name         | hp_max |
+--------------+--------+
| å»‰é¢‡         |   9328 |
| ç™½èµ·         |   8638 |
| ç¨‹å’¬é‡‘       |   8611 |
...
| å§œå­ç‰™       |   5399 |
| èŠ±æœ¨å…°       |   5397 |
| æ­¦åˆ™å¤©       |   5037 |
+--------------+--------+
```

æ˜¾ç¤ºè‹±é›„åç§°åŠæœ€å¤§ç”Ÿå‘½å€¼ï¼ŒæŒ‰ç…§ç¬¬ä¸€æŽ’åºæœ€å¤§æ³•åŠ›ä»Žä½Žåˆ°é«˜ï¼Œå½“æœ€å¤§æ³•åŠ›å€¼ç›¸ç­‰çš„æ—¶å€™åˆ™æŒ‰ç…§ç¬¬äºŒæŽ’åºè¿›è¡Œï¼Œå³æœ€å¤§ç”Ÿå‘½å€¼ä»Žé«˜åˆ°ä½Žçš„æ–¹å¼è¿›è¡ŒæŽ’åº

```sql
SELECT name, hp_max FROM heros ORDER BY mp_max ASC, hp_max DESC;
# ç”±äºŽASCæ˜¯é»˜è®¤çš„ï¼Œå¯ä»¥çœç•¥
SELECT name, hp_max FROM heros ORDER BY mp_max, hp_max DESC;
```



### çº¦æŸè¿”å›žç»“æžœçš„æ•°é‡â¤ï¸

å¯ä»¥çº¦æŸè¿”å›žç»“æžœçš„æ•°é‡ï¼Œä½¿ç”¨ LIMIT å…³é”®å­—ã€‚

è¿”å›žè‹±é›„åç§°åŠæœ€å¤§ç”Ÿå‘½å€¼ï¼ŒæŒ‰ç…§æœ€å¤§ç”Ÿå‘½å€¼ä»Žé«˜åˆ°ä½ŽæŽ’åºï¼Œè¿”å›ž 5 æ¡è®°å½•å³å¯

```sql
# å¯ä»¥çœ‹åˆ°ä¸å¿…ä¾èµ–order by
mysql> SELECT name, hp_max FROM heros LIMIT 5;
+-----------+--------+
| name      | hp_max |
+-----------+--------+
| å¤ä¾¯æƒ‡    |   7350 |
| é’Ÿæ— è‰³    |   7000 |
| å¼ é£ž      |   8341 |
| ç‰›é­”      |   8476 |
| å•å¸ƒ      |   7344 |
+-----------+--------+
5 rows in set (0.01 sec)

mysql> SELECT name, hp_max FROM heros ORDER BY hp_max DESC LIMIT 5;
+-----------+--------+
| name      | hp_max |
+-----------+--------+
| å»‰é¢‡      |   9328 |
| ç™½èµ·      |   8638 |
| ç¨‹å’¬é‡‘    |   8611 |
| åˆ˜ç¦…      |   8581 |
| ç‰›é­”      |   8476 |
+-----------+--------+
```



### SELECT çš„æ‰§è¡Œé¡ºåºðŸ’•

1. å…³é”®å­—çš„é¡ºåºæ˜¯ä¸èƒ½é¢ å€’çš„ï¼š

```sql
SELECT ... FROM ... WHERE ... GROUP BY ... HAVING ... ORDER BY ...
```

2. SELECT è¯­å¥çš„æ‰§è¡Œé¡ºåºï¼ˆåœ¨ MySQL å’Œ Oracle ä¸­ï¼ŒSELECT æ‰§è¡Œé¡ºåºåŸºæœ¬ç›¸åŒï¼‰ï¼š

```sql
FROM > WHERE > GROUP BY > HAVING > SELECT çš„å­—æ®µ > DISTINCT > ORDER BY > LIMIT
```

æ¯”å¦‚ä½ å†™äº†ä¸€ä¸ª SQL è¯­å¥ï¼Œé‚£ä¹ˆå®ƒçš„å…³é”®å­—é¡ºåºå’Œæ‰§è¡Œé¡ºåºæ˜¯ä¸‹é¢è¿™æ ·çš„ï¼š

```sql
SELECT DISTINCT player_id, player_name, count(*) as num # é¡ºåº 5
FROM player JOIN team ON player.team_id = team.team_id # é¡ºåº 1
WHERE height > 1.80 # é¡ºåº 2
GROUP BY player.team_id # é¡ºåº 3
HAVING num > 2 # é¡ºåº 4
ORDER BY num DESC # é¡ºåº 6
LIMIT 2 # é¡ºåº 7
```

åœ¨ SELECT è¯­å¥æ‰§è¡Œè¿™äº›æ­¥éª¤çš„æ—¶å€™ï¼Œæ¯ä¸ªæ­¥éª¤éƒ½ä¼šäº§ç”Ÿä¸€ä¸ªè™šæ‹Ÿè¡¨ï¼Œç„¶åŽå°†è¿™ä¸ªè™šæ‹Ÿè¡¨ä¼ å…¥ä¸‹ä¸€ä¸ªæ­¥éª¤ä¸­ä½œä¸ºè¾“å…¥ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™äº›æ­¥éª¤éšå«åœ¨ SQL çš„æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œå¯¹äºŽæˆ‘ä»¬æ¥è¯´æ˜¯ä¸å¯è§çš„



## æ•°æ®è¿‡æ»¤

### æ¯”è¾ƒè¿ç®—ç¬¦

![image-20230511121342600](/images/MySQL/image-20230511121342600.png)



> æ¯”å¦‚æˆ‘ä»¬æƒ³è¦æŸ¥è¯¢æ‰€æœ‰æœ€å¤§ç”Ÿå‘½å€¼å¤§äºŽ 6000 çš„è‹±é›„ï¼š

```sql
SELECT name, hp_max FROM heros WHERE hp_max > 6000
# where ä¸­åˆ—æ˜Žå¯ä»¥ä¸åœ¨æŸ¥è¯¢åˆ—è¡¨ä¸­
SELECT name FROM heros WHERE hp_max > 6000;
```

> æŸ¥è¯¢æ‰€æœ‰æœ€å¤§ç”Ÿå‘½å€¼åœ¨ 5399 åˆ° 6811 ä¹‹é—´çš„è‹±é›„ï¼š`BETWEEN ... AND`æ˜¯é—­åŒºé—´ `[5399,6811]`

```sql
mysql> SELECT name, hp_max FROM heros WHERE hp_max BETWEEN 5399 AND 6811;
+--------------+--------+
| name         | hp_max |
+--------------+--------+
| èŠˆæœˆ         |   6164 |
...
| å§œå­ç‰™       |   5399 |
...
| å­™è†‘         |   6811 |
...
| ç™¾é‡Œå®ˆçº¦     |   5611 |
+--------------+--------+

```

> ä¹Ÿå¯ä»¥å¯¹ heros è¡¨ä¸­çš„`hp_max`å­—æ®µè¿›è¡Œç©ºå€¼æ£€æŸ¥

```sql
SELECT name, hp_max FROM heros WHERE hp_max IS NULL;
```

### é€»è¾‘è¿ç®—ç¬¦

å­˜åœ¨å¤šä¸ª WHERE æ¡ä»¶å­å¥ï¼Œå¯ä»¥ä½¿ç”¨é€»è¾‘è¿ç®—ç¬¦ï¼š

![image-20230511122116647](/images/MySQL/image-20230511122116647.png)

> ç­›é€‰æœ€å¤§ç”Ÿå‘½å€¼å¤§äºŽ 6000ï¼Œæœ€å¤§æ³•åŠ›å¤§äºŽ 1700 çš„è‹±é›„ï¼Œç„¶åŽæŒ‰ç…§æœ€å¤§ç”Ÿå‘½å€¼å’Œæœ€å¤§æ³•åŠ›å€¼ä¹‹å’Œä»Žé«˜åˆ°ä½Žè¿›è¡ŒæŽ’åº

```sql
mysql> SELECT name, hp_max, mp_max FROM heros WHERE hp_max > 6000 AND mp_max > 1700 ORDER BY (hp_max+mp_max) DESC;
+--------------+--------+--------+
| name         | hp_max | mp_max |
+--------------+--------+--------+
| å»‰é¢‡         |   9328 |   1708 |
| ç‰›é­”         |   8476 |   1926 |
| åˆ˜é‚¦         |   8073 |   1940 |
...
| å¨œå¯éœ²éœ²     |   6205 |   1808 |
| é›…å…¸å¨œ       |   6264 |   1732 |
| å­™å°šé¦™       |   6014 |   1756 |
+--------------+--------+--------+
23 rows in set (0.00 sec)
```

> å¦‚æžœ AND å’Œ OR åŒæ—¶å­˜åœ¨ WHERE å­å¥ä¸­ä¼šæ˜¯æ€Žæ ·çš„å‘¢ï¼Ÿå‡è®¾æˆ‘ä»¬æƒ³è¦æŸ¥è¯¢æœ€å¤§ç”Ÿå‘½å€¼åŠ æœ€å¤§æ³•åŠ›å€¼å¤§äºŽ 8000 çš„è‹±é›„ï¼Œæˆ–è€…æœ€å¤§ç”Ÿå‘½å€¼å¤§äºŽ 6000 å¹¶ä¸”æœ€å¤§æ³•åŠ›å€¼å¤§äºŽ 1700 çš„è‹±é›„

```sql
mysql> SELECT name, hp_max, mp_max FROM heros WHERE (hp_max+mp_max) > 8000 OR hp_max > 6000 AND mp_max > 1700 ORDER BY (hp_max+mp_max) DESC;
+--------------+--------+--------+
| name         | hp_max | mp_max |
+--------------+--------+--------+
...
| ç¨‹å’¬é‡‘       |   8611 |      0 |
...
| é’Ÿé¦—         |   6280 |   1988 |
...
+--------------+--------+--------+
33 rows in set (0.00 sec)
```

å¦‚æžœæˆ‘ä»¬å¯¹è¿™æ¡æŸ¥è¯¢è¯­å¥ OR ä¸¤è¾¹çš„æ¡ä»¶å¢žåŠ ä¸€ä¸ªæ‹¬å·ï¼Œç»“æžœä¼šæ˜¯æ€Žæ ·çš„å‘¢?

```sql
mysql> SELECT name, hp_max, mp_max FROM heros WHERE ((hp_max+mp_max) > 8000 OR hp_max > 6000) AND mp_max > 1700 ORDER BY (hp_max+mp_max) DESC;
+--------------+--------+--------+
| name         | hp_max | mp_max |
+--------------+--------+--------+
| å»‰é¢‡         |   9328 |   1708 |
| ç‰›é­”         |   8476 |   1926 |
| é«˜æ¸ç¦»       |   6165 |   1988 |
...
| å¨œå¯éœ²éœ²     |   6205 |   1808 |
| é›…å…¸å¨œ       |   6264 |   1732 |
| å­™å°šé¦™       |   6014 |   1756 |
+--------------+--------+--------+
23 rows in set (0.00 sec)
```

â¤ï¸å½“ WHERE å­å¥ä¸­åŒæ—¶å‡ºçŽ° AND å’Œ OR æ“ä½œç¬¦çš„æ—¶å€™ï¼Œä½ éœ€è¦è€ƒè™‘åˆ°æ‰§è¡Œçš„å…ˆåŽé¡ºåºï¼Œä¹Ÿå°±æ˜¯ä¸¤ä¸ªæ“ä½œç¬¦æ‰§è¡Œçš„ä¼˜å…ˆçº§ã€‚ä¸€èˆ¬æ¥è¯´ () ä¼˜å…ˆçº§æœ€é«˜ï¼Œå…¶æ¬¡ä¼˜å…ˆçº§æ˜¯ ANDï¼Œç„¶åŽæ˜¯ ORâ¤ï¸

```sql
SELECT name, hp_max, mp_max FROM heros WHERE (hp_max+mp_max) > 8000 OR hp_max > 6000 AND mp_max > 1700 ORDER BY (hp_max+mp_max) DESC;

# ä¸ºäº†æ›´åŠ æ¸…æ™°ï¼Œå»ºè®®åŠ ä¸Šæ‹¬å·,æ‰§è¡Œç»“æžœä¸€æ ·
SELECT name, hp_max, mp_max FROM heros WHERE ((hp_max+mp_max) > 8000) OR (hp_max > 6000 AND mp_max > 1700) ORDER BY (hp_max+mp_max) DESC;
```

> ðŸ‘ðŸ‘æŸ¥è¯¢ä¸»è¦å®šä½æˆ–è€…æ¬¡è¦å®šä½æ˜¯æ³•å¸ˆæˆ–æ˜¯å°„æ‰‹çš„è‹±é›„ï¼ŒåŒæ—¶è‹±é›„çš„ä¸Šçº¿æ—¶é—´ä¸åœ¨ 2016-01-01 åˆ° 2017-01-01 ä¹‹é—´

```sql
SELECT name, role_main, role_assist, hp_max, mp_max, birthdate
FROM heros 
WHERE (role_main IN ('æ³•å¸ˆ', 'å°„æ‰‹') OR role_assist IN ('æ³•å¸ˆ', 'å°„æ‰‹')) AND DATE(birthdate) NOT BETWEEN '2016-01-01' AND '2017-01-01'
ORDER BY (hp_max + mp_max) DESC;

#----------------------------------------------------------
mysql> SELECT name, role_main, role_assist, hp_max, mp_max, birthdate
    -> FROM heros
    -> WHERE (role_main IN ('æ³•å¸ˆ', 'å°„æ‰‹') OR role_assist IN ('æ³•å¸ˆ', 'å°„æ‰‹')) AND DATE(birthdate) NOT BETWEEN '2016-01-01' AND '2017-01-01'
    -> ORDER BY (hp_max + mp_max) DESC;
+--------------+-----------+-------------+--------+--------+------------+
| name         | role_main | role_assist | hp_max | mp_max | birthdate  |
+--------------+-----------+-------------+--------+--------+------------+
| å¼ è‰¯         | æ³•å¸ˆ      | NULL        |   5799 |   1988 | 2015-10-26 |
| è²‚è‰         | æ³•å¸ˆ      | åˆºå®¢        |   5611 |   1960 | 2015-12-15 |
| å¹²å°†èŽ«é‚ª     | æ³•å¸ˆ      | NULL        |   5583 |   1946 | 2017-05-22 |
| å‘¨ç‘œ         | æ³•å¸ˆ      | NULL        |   5513 |   1974 | 2015-11-10 |
| ç™¾é‡Œå®ˆçº¦     | å°„æ‰‹      | åˆºå®¢        |   5611 |   1784 | 2017-08-08 |
| èŠˆæœˆ         | æ³•å¸ˆ      | å¦å…‹        |   6164 |    100 | 2015-12-08 |
+--------------+-----------+-------------+--------+--------+------------+
```

### ä½¿ç”¨é€šé…ç¬¦è¿›è¡Œè¿‡æ»¤

è¦æ£€ç´¢æ–‡æœ¬ä¸­åŒ…å«æŸä¸ªè¯çš„æ‰€æœ‰æ•°æ®ï¼Œè¿™é‡Œå°±éœ€è¦ä½¿ç”¨é€šé…ç¬¦ã€‚é€šé…ç¬¦å°±æ˜¯æˆ‘ä»¬ç”¨æ¥åŒ¹é…å€¼çš„ä¸€éƒ¨åˆ†çš„ç‰¹æ®Šå­—ç¬¦ã€‚è¿™é‡Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨åˆ° `LIKE `æ“ä½œç¬¦ã€‚

> æƒ³è¦åŒ¹é…ä»»æ„å­—ç¬¦ä¸²å‡ºçŽ°çš„ä»»æ„æ¬¡æ•°ï¼Œéœ€è¦ä½¿ç”¨`ï¼ˆ%ï¼‰`é€šé…ç¬¦ã€‚æ¯”å¦‚æˆ‘ä»¬æƒ³è¦æŸ¥æ‰¾è‹±é›„åä¸­åŒ…å«â€œå¤ªâ€å­—çš„è‹±é›„éƒ½æœ‰å“ªäº›ï¼š

```sql
mysql> SELECT name FROM heros WHERE name LIKE '%å¤ª%';
+--------------+
| name         |
+--------------+
| ä¸œçš‡å¤ªä¸€     |
| å¤ªä¹™çœŸäºº     |
+--------------+
```

æƒ³è¦åŒ¹é…å•ä¸ªå­—ç¬¦ï¼Œå°±éœ€è¦ä½¿ç”¨ä¸‹åˆ’çº¿` (_)` é€šé…ç¬¦ã€‚`ï¼ˆ%ï¼‰`å’Œ`ï¼ˆ_ï¼‰`çš„åŒºåˆ«åœ¨äºŽï¼Œ`ï¼ˆ%ï¼‰`ä»£è¡¨ä¸€ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ï¼Œè€Œ`ï¼ˆ_ï¼‰`åªä»£è¡¨ä¸€ä¸ªå­—ç¬¦ã€‚

æ¯”å¦‚æˆ‘ä»¬æƒ³è¦æŸ¥æ‰¾è‹±é›„åé™¤äº†ç¬¬ä¸€ä¸ªå­—ä»¥å¤–ï¼ŒåŒ…å«â€œå¤ªâ€å­—çš„è‹±é›„æœ‰å“ªäº›ã€‚

```sql
mysql> SELECT name FROM heros WHERE name LIKE '_%å¤ª%';
+--------------+
| name         |
+--------------+
| ä¸œçš‡å¤ªä¸€     |
+--------------+
```


---
sidebarDepth: 3
sidebar: auto
prev:
  text: Back To ç›®å½•
  link: /maven/
typora-root-url: ..\.vuepress\public
---



## Nexus

ä¸‹è½½ä¸å®‰è£…åŠåŸºæœ¬ä½¿ç”¨å‚è€ƒ[Mavenç§æœè¯¦è§£](https://blog.csdn.net/czm_ob/article/details/111452515)

[Download (sonatype.com)](https://help.sonatype.com/repomanager3/product-information/download)



## å¯åŠ¨

```sh
nexus.exe /run
```

ç”¨æˆ·åadmin ,æ›´æ–°å¯†ç ä¸ºï¼šRoot.123456

è®¿é—®åœ°å€ï¼š[http://localhost:8081](http://localhost:8081)

## å®æˆ˜æ‰“åŒ…ä¸Šä¼ jar

[Source Code](https://github.com/Q10Viking/learncode/tree/main/maven/nexus-utils)

settings.xmlé…ç½®

```xml
<server>
    <id>nexus-releases</id>
    <username>admin</username>
    <password>Root.123456</password>
</server>
<server>
    <id>nexus-snapshots</id>
    <username>admin</username>
    <password>Root.123456</password>
</server>
```

pom.xmlæ–‡ä»¶é…ç½®ï¼Œå…¶ä¸­idè¦ä¸ä¸Šé¢serveré…ç½®çš„idå¯¹åº”

```xml
<distributionManagement>
    <repository>
        <id>nexus-releases</id>
        <name>Nexus Release Repository</name>
        <url>http://localhost:8081/repository/maven-releases/</url>
    </repository>
    <snapshotRepository>
        <id>nexus-snapshots</id>
        <name>Nexus Snapshot Repository</name>
        <url>http://localhost:8081/repository/maven-snapshots/</url>
    </snapshotRepository>
</distributionManagement>
```



`mvn deploy`

```http
[INFO] --- deploy:3.0.0:deploy (default-deploy) @ nexus-utils ---
Uploading to nexus-releases: http://localhost:8081/repository/maven-releases/org/hzz/nexus-utils/1.0/nexus-utils-1.0.pom
Uploaded to nexus-releases: http://localhost:8081/repository/maven-releases/org/hzz/nexus-utils/1.0/nexus-utils-1.0.pom (1.1 kB at 2.1 kB/s)
Uploading to nexus-releases: http://localhost:8081/repository/maven-releases/org/hzz/nexus-utils/1.0/nexus-utils-1.0.jar
Uploaded to nexus-releases: http://localhost:8081/repository/maven-releases/org/hzz/nexus-utils/1.0/nexus-utils-1.0.jar (2.1 kB at 25 kB/s)
Downloading from nexus-releases: http://localhost:8081/repository/maven-releases/org/hzz/nexus-utils/maven-metadata.xml
Uploading to nexus-releases: http://localhost:8081/repository/maven-releases/org/hzz/nexus-utils/maven-metadata.xml
Uploaded to nexus-releases: http://localhost:8081/repository/maven-releases/org/hzz/nexus-utils/maven-metadata.xml (294 B at 4.2 kB/s)
```

![image-20230517211538381](/images/maven/image-20230517211538381.png)





## ä»nexusä¸‹è½½ä¾èµ–åŒ…

[Source Code](https://github.com/Q10Viking/learncode/tree/main/maven/use-nexus-jar)

åˆšæ‰æˆ‘ä»¬ä¸Šä¼ äº†ä¸€ä¸ªjaråŒ…ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ–°å»ºä¸€ä¸ªé¡¹ç›®æ¥ä½¿ç”¨å®ƒ

![image-20230517214118152](/images/maven/image-20230517214118152.png)

```xml
<dependencies>
    <!--   è‡ªå·±å¼€å‘çš„jaråŒ…     -->
    <dependency>
        <groupId>org.hzz</groupId>
        <artifactId>nexus-utils</artifactId>
        <version>1.0</version>
    </dependency>
    <dependency>
        <groupId>com.alibaba.fastjson2</groupId>
        <artifactId>fastjson2</artifactId>
        <version>2.0.32</version>
    </dependency>
</dependencies>

<repositories>
    <repository>
        <id>nexus-central</id>
        <name>Central Repository</name>
        <url>http://localhost:8081/repository/maven-public/</url>
    </repository>
    <repository>
        <id>central</id>
        <name>Central Repository</name>
        <url>https://repo1.maven.org/maven2/</url>
    </repository>
</repositories>
```

settings.xml é…ç½®

```xml
<mirror>
    <id>aliyunmaven</id>
    <mirrorOf>central</mirrorOf>
    <name>é˜¿é‡Œäº‘å…¬å…±ä»“åº“</name>
    <url>https://maven.aliyun.com/repository/public</url>
</mirror> 

<server>
    <id>nexus-central</id>
    <username>admin</username>
    <password>Root.123456</password>
</server>
```

ç§æœçš„é…ç½®

![image-20230517225058452](/images/maven/image-20230517225058452.png)

> é€šè¿‡åˆ†æï¼šä¸‹è½½jaråŒ…æ—¶æœ‰ä¸€ä¸ªå…ˆåé¡ºåºï¼Œé‚£å°±æ˜¯é…ç½®repositoriesæ—¶çš„é¡ºåºã€‚

```http
Downloading from nexus-central: http://localhost:8081/repository/maven-public/org/hzz/nexus-utils/1.0/nexus-utils-1.0.jar
Downloaded from nexus-central: http://localhost:8081/repository/maven-public/org/hzz/nexus-utils/1.0/nexus-utils-1.0.jar (2.2 kB at 114 kB/s)

Downloading from nexus-central: http://localhost:8081/repository/maven-public/com/alibaba/fastjson2/fastjson2/2.0.32/fastjson2-2.0.32.jar
Downloading from aliyunmaven: https://maven.aliyun.com/repository/public/com/alibaba/fastjson2/fastjson2/2.0.32/fastjson2-2.0.32.jar
Downloaded from aliyunmaven: https://maven.aliyun.com/repository/public/com/alibaba/fastjson2/fastjson2/2.0.32/fastjson2-2.0.32.jar (1.9 MB at 1.9 MB/s)
```

ä»ä¸Šé¢çš„åˆ†æå¯ä»¥çŸ¥é“

```java
// repositoriesçš„é…ç½®æ˜¾ç¤ºç§æœï¼Œç„¶åæ‰æ˜¯ä¸­å¤®ä»“åº“

nexus-utils-1.0.jar å…ˆä» ç§æœä¸‹è½½ï¼Œä¸‹è½½åˆ°äº†ç»“æŸ
fastjson2-2.0.32.jar ä¹Ÿæ˜¯å…ˆä»ç§æœä¸‹è½½,ä¸‹è½½ä¸åˆ°å°±ä»aliyumä¸­å¤®ä»“åº“ä¸‹è½½

// å¦‚æœæˆ‘ä»¬é…ç½®repositoriesï¼Œå…ˆé…ç½®ä¸­å¤®ä»“åº“ï¼Œå†é…ç½®ç§æœ,é‚£ä¹ˆåˆšå¥½ç›¸å
nexus-utils-1.0.jar å…ˆä»aliyumä¸­å¤®ä»“åº“ä¸‹è½½ï¼Œä¸‹è½½ä¸åˆ°ï¼Œå†ä»ç§æœä¸‹è½½ï¼Œä¸‹è½½åˆ°äº†ç»“æŸ
fastjson2-2.0.32.jar ä»aliyumä¸­å¤®ä»“åº“ä¸‹è½½,ä¸‹è½½åˆ°äº†ç»“æŸ
```



## æ€»ç»“â¤ï¸

nexusæä¾›äº†ä»£ç†ä»“åº“ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨åˆ›å»ºä»£ç†ä»“åº“ç”¨æ¥ä»£ç†é»˜è®¤çš„ä¸­å¤®ä»“åº“å’Œé˜¿é‡Œäº‘ä»“åº“ï¼Œä»£ç†ä»“åº“ä¼šæŠŠjaråŒ…ä¸‹è½½åˆ°ç§æœä¸­

ä½†æ˜¯å¯¹äºæˆ‘æ¥è¯´ï¼Œç§æœç”¨äºå­˜å‚¨è‡ªå·±çš„jaråŒ…å°±å¥½ï¼Œå¯¹äºç¬¬ä¸‰æ–¹çš„jaråŒ…è™½ç„¶nexusæä¾›äº†è¿™ä¸ªä»£ç†ä»“åº“çš„åŠŸèƒ½ç”¨äºå­˜å‚¨ï¼Œä½†æ˜¯ä»ç£ç›˜ç©ºé—´æ¥è€ƒè™‘å¹¶ä¸åˆç®—ï¼Œæˆ‘ä»¬å°±è®©ç¬¬ä¸‰æ–¹jaråŒ…å­˜åœ¨ç¬¬ä¸‰æ–¹å³å¯ã€‚

### ç§æœé…ç½®

> ç§æœçš„é…ç½®ï¼Œæˆ‘ä»¬åªä½¿ç”¨å®¿ä¸»ä»“åº“ï¼Œä¸ä½¿ç”¨ä»£ç†ä»“åº“

![image-20230517225655718](/images/maven/image-20230517225655718.png)



### maven settings.xmlé…ç½®

> mavençš„settings.xmlï¼Œæˆ‘ä»¬åªé…ç½®é˜¿é‡Œäº‘é•œåƒï¼Œå‡å°‘settings.xmlçš„å¤æ‚åº¦
>
> æ³¨æ„ï¼šmirrorOfé…ç½®ä¸ºcentral,å› ä¸ºpluginResponsitory(æ’ä»¶ä»“åº“)é»˜è®¤çš„ä¸­å¤®ä»“åº“é…ç½®çš„idæ˜¯centralï¼Œæ‰€ä»¥è¿™é‡Œé…ç½®ä¸ºcentralï¼Œå‡å°‘äº†é¡¹ç›®ä¸­é…ç½®æ’ä»¶ä»“åº“çš„é…ç½®ï¼Œä½¿ç”¨é»˜è®¤çš„å°±å¥½ï¼Œè¿™æ ·å°±èƒ½èµ°é˜¿é‡Œäº‘ä»“åº“

```xml
<mirrors>
    <mirror>
        <id>aliyunmaven</id>
        <mirrorOf>central</mirrorOf>
        <name>é˜¿é‡Œäº‘å…¬å…±ä»“åº“</name>
        <url>https://maven.aliyun.com/repository/public</url>
    </mirror> 
</mirrors>

<servers>
    <!-- ç§æœä»“åº“ä¸‹è½½ -->
    <server>
        <id>nexus-central</id>
        <username>admin</username>
        <password>Root.123456</password>
    </server>
    <!-- ç§æœä»“åº“ä¸Šä¼ realeaseç‰ˆæœ¬ -->
    <server>
        <id>nexus-releases</id>
        <username>admin</username>
        <password>Root.123456</password>
    </server>

    <!-- ç§æœä»“åº“ä¸Šä¼ snapshotç‰ˆæœ¬ -->
    <server>
        <id>nexus-snapshots</id>
        <username>admin</username>
        <password>Root.123456</password>
    </server>
</servers>
```

### é¡¹ç›® pom.xmlé…ç½®

> é…ç½®ä¸ºå…ˆä»ä¸­å¤®ä»åº“ä¸‹è½½ï¼Œå†ä»ç§æœä¸‹è½½ã€‚å…¶ä¸­å¤®ä»“åº“ä½¿ç”¨æˆ‘ä»¬åœ¨settings.xmlé…ç½®çš„é˜¿é‡Œäº‘é•œåƒã€‚
>
> ä¹‹æ‰€ä»¥idä½¿ç”¨centralæ˜¯å› ä¸ºç»Ÿä¸€ã€‚è¿˜æœ‰ä¸€ä¸ªpluginRespositoryæ’ä»¶ä»“åº“é»˜è®¤æ˜¯ä¸­å¤®ä»“åº“ï¼Œidä¸ºcentralã€‚ä½¿ç”¨centralæˆ‘ä»¬å°±ä¸ç”¨åœ¨pom.xmlæ–‡ä»¶ä¸­é…ç½®ï¼Œåƒä¸‹é¢è¿™æ ·çš„é…ç½®äº†
>
> ```xml
> <!-- é»˜è®¤çš„æ’ä»¶ä¸­å¤®ä»“åº“åœ°å€ -->
> <pluginRepositories>
>     <pluginRepository>
>         <id>central</id>
>         <url>https://repo.maven.apache.org/maven2/</url>
>     </pluginRepository>
> </pluginRepositories>
> ```

```xml
<!-- ä»“åº“ä¸‹è½½é¡ºåº -->
<repositories>
    <repository>
        <id>central</id>
        <name>Central Repository</name>
        <url>https://repo1.maven.org/maven2/</url>
    </repository>
    <repository>
        <id>nexus-central</id>
        <name>Central Repository</name>
        <url>http://localhost:8081/repository/maven-public/</url>
    </repository>
</repositories>
<!-- é¡¹ç›®æ‰“åŒ…ç§æœä¸Šä¼ é…ç½® -->
<distributionManagement>
    <repository>
        <id>nexus-releases</id>
        <name>Nexus Release Repository</name>
        <url>http://localhost:8081/repository/maven-releases/</url>
    </repository>
    <snapshotRepository>
        <id>nexus-snapshots</id>
        <name>Nexus Snapshot Repository</name>
        <url>http://localhost:8081/repository/maven-snapshots/</url>
    </snapshotRepository>
</distributionManagement>

```

#### æ¨èğŸ‘

> æ¨èä¸‹é¢è¿™ç§æ–¹å¼ï¼šä¸ºäº†ç®€åŒ–é…ç½®ï¼Œæˆ‘ä»¬å¯ä»¥åªé…ç½®ç§æœã€‚åªä¸è¿‡ç°åœ¨jaråŒ…ä¸‹è½½é¡ºåºå˜æˆäº†ï¼Œå…ˆä»ç§æœä¸‹è½½ï¼Œä¸‹è½½ä¸åˆ°ï¼Œå†ä»é»˜è®¤ä»“åº“ä¸‹è½½ã€‚â¤ï¸â¤ï¸â¤ï¸

```xml
<repositories>
    <repository>
        <id>nexus-central</id>
        <name>Central Repository</name>
        <url>http://localhost:8081/repository/maven-public/</url>
    </repository>
</repositories>
<!-- é¡¹ç›®æ‰“åŒ…ç§æœä¸Šä¼ é…ç½® -->
<distributionManagement>
    <repository>
        <id>nexus-releases</id>
        <name>Nexus Release Repository</name>
        <url>http://localhost:8081/repository/maven-releases/</url>
    </repository>
    <snapshotRepository>
        <id>nexus-snapshots</id>
        <name>Nexus Snapshot Repository</name>
        <url>http://localhost:8081/repository/maven-snapshots/</url>
    </snapshotRepository>
</distributionManagement>
```

æµ‹è¯•ï¼šä¸‹è½½fastjson2

```http
Downloading from nexus-central: http://localhost:8081/repository/maven-public/com/alibaba/fastjson2/fastjson2/2.0.32/fastjson2-2.0.32.pom
Downloading from aliyunmaven: https://maven.aliyun.com/repository/public/com/alibaba/fastjson2/fastjson2/2.0.32/fastjson2-2.0.32.pom
Downloaded from aliyunmaven: https://maven.aliyun.com/repository/public/com/alibaba/fastjson2/fastjson2/2.0.32/fastjson2-2.0.32.pom (11 kB at 13 kB/s)
```


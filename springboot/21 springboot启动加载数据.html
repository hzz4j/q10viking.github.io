<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.27">
    <link rel="icon" href="/images/favicon-32x32.png"><title>é™é»˜ã®Blog</title><meta name="description" content="é™é»˜çš„Vuepress Blog">
    <link rel="preload" href="/assets/js/runtime~app.2c87fbe0.js" as="script"><link rel="preload" href="/assets/css/styles.b779b927.css" as="style"><link rel="preload" href="/assets/js/95615.aba5921d.js" as="script"><link rel="preload" href="/assets/js/app.4aafd1f6.js" as="script">
    <link rel="stylesheet" href="/assets/css/styles.b779b927.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><!----><span class="site-name can-hide">é™é»˜ã®Blog</span></a></span><div class="navbar-links-wrapper" style=""><!--[--><!--]--><nav class="navbar-links can-hide"><!--[--><div class="navbar-links-item"><a href="/topicNav/" class="nav-link" aria-label="ğŸ“—Menu"><!--[--><!--]--> ğŸ“—Menu <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/aboutme/" class="nav-link" aria-label="AboutMe"><!--[--><!--]--> AboutMe <!--[--><!--]--></a></div><div class="navbar-links-item"><a class="nav-link external" href="https://github.com/Q10Viking/q10viking.github.io" rel="noopener noreferrer" target="_blank" aria-label="Github"><!--[--><!--]--> Github <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-dark-button" title="toggle dark mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><div id="docsearch-container"></div></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-links"><!--[--><div class="navbar-links-item"><a href="/topicNav/" class="nav-link" aria-label="ğŸ“—Menu"><!--[--><!--]--> ğŸ“—Menu <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/aboutme/" class="nav-link" aria-label="AboutMe"><!--[--><!--]--> AboutMe <!--[--><!--]--></a></div><div class="navbar-links-item"><a class="nav-link external" href="https://github.com/Q10Viking/q10viking.github.io" rel="noopener noreferrer" target="_blank" aria-label="Github"><!--[--><!--]--> Github <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-links"><!--[--><!--[--><p class="sidebar-heading sidebar-item"></p><ul class=""><li><!--[--><a aria-current="page" href="/springboot/21%20springboot%E5%90%AF%E5%8A%A8%E5%8A%A0%E8%BD%BD%E6%95%B0%E6%8D%AE.html#ä¾èµ–" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="ä¾èµ–"><!--[--><!--]--> ä¾èµ– <!--[--><!--]--></a><ul class="sidebar-sub-items"><li><!--[--><a aria-current="page" href="/springboot/21%20springboot%E5%90%AF%E5%8A%A8%E5%8A%A0%E8%BD%BD%E6%95%B0%E6%8D%AE.html#é…ç½®" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="é…ç½®"><!--[--><!--]--> é…ç½® <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--></li><li><!--[--><a aria-current="page" href="/springboot/21%20springboot%E5%90%AF%E5%8A%A8%E5%8A%A0%E8%BD%BD%E6%95%B0%E6%8D%AE.html#entity" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Entity"><!--[--><!--]--> Entity <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/springboot/21%20springboot%E5%90%AF%E5%8A%A8%E5%8A%A0%E8%BD%BD%E6%95%B0%E6%8D%AE.html#data-sql" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="data.sql"><!--[--><!--]--> data.sql <!--[--><!--]--></a><ul class="sidebar-sub-items"><li><!--[--><a aria-current="page" href="/springboot/21%20springboot%E5%90%AF%E5%8A%A8%E5%8A%A0%E8%BD%BD%E6%95%B0%E6%8D%AE.html#æ³¨æ„â¤ï¸" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="æ³¨æ„â¤ï¸"><!--[--><!--]--> æ³¨æ„â¤ï¸ <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/springboot/21%20springboot%E5%90%AF%E5%8A%A8%E5%8A%A0%E8%BD%BD%E6%95%B0%E6%8D%AE.html#åµŒå…¥å‹æ•°æ®åº“java" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="åµŒå…¥å‹æ•°æ®åº“Java"><!--[--><!--]--> åµŒå…¥å‹æ•°æ®åº“Java <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--></li><li><!--[--><a aria-current="page" href="/springboot/21%20springboot%E5%90%AF%E5%8A%A8%E5%8A%A0%E8%BD%BD%E6%95%B0%E6%8D%AE.html#schema-sql" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="schema.sql"><!--[--><!--]--> schema.sql <!--[--><!--]--></a><ul class="sidebar-sub-items"><li><!--[--><a aria-current="page" href="/springboot/21%20springboot%E5%90%AF%E5%8A%A8%E5%8A%A0%E8%BD%BD%E6%95%B0%E6%8D%AE.html#å†²çª" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="å†²çª"><!--[--><!--]--> å†²çª <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/springboot/21%20springboot%E5%90%AF%E5%8A%A8%E5%8A%A0%E8%BD%BD%E6%95%B0%E6%8D%AE.html#æ‰§è¡Œé¡ºåºâ¤ï¸" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="æ‰§è¡Œé¡ºåºâ¤ï¸"><!--[--><!--]--> æ‰§è¡Œé¡ºåºâ¤ï¸ <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/springboot/21%20springboot%E5%90%AF%E5%8A%A8%E5%8A%A0%E8%BD%BD%E6%95%B0%E6%8D%AE.html#æ§åˆ¶hibernate-åˆ›å»ºddlçš„æ–¹å¼" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="æ§åˆ¶Hibernate åˆ›å»ºDDLçš„æ–¹å¼"><!--[--><!--]--> æ§åˆ¶Hibernate åˆ›å»ºDDLçš„æ–¹å¼ <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/springboot/21%20springboot%E5%90%AF%E5%8A%A8%E5%8A%A0%E8%BD%BD%E6%95%B0%E6%8D%AE.html#æ§åˆ¶åŠ è½½æ•°æ®çš„æ–¹å¼" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="æ§åˆ¶åŠ è½½æ•°æ®çš„æ–¹å¼"><!--[--><!--]--> æ§åˆ¶åŠ è½½æ•°æ®çš„æ–¹å¼ <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--></li><li><!--[--><a aria-current="page" href="/springboot/21%20springboot%E5%90%AF%E5%8A%A8%E5%8A%A0%E8%BD%BD%E6%95%B0%E6%8D%AE.html#å°ç»“" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="å°ç»“"><!--[--><!--]--> å°ç»“ <!--[--><!--]--></a><ul class="sidebar-sub-items"><li><!--[--><a aria-current="page" href="/springboot/21%20springboot%E5%90%AF%E5%8A%A8%E5%8A%A0%E8%BD%BD%E6%95%B0%E6%8D%AE.html#å»ºè®®â¤ï¸" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="å»ºè®®â¤ï¸"><!--[--><!--]--> å»ºè®®â¤ï¸ <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--></li><li><!--[--><a aria-current="page" href="/springboot/21%20springboot%E5%90%AF%E5%8A%A8%E5%8A%A0%E8%BD%BD%E6%95%B0%E6%8D%AE.html#javaç±»å‹ä¸æ•°æ®ç±»å‹å¯¹åº”" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Javaç±»å‹ä¸æ•°æ®ç±»å‹å¯¹åº”"><!--[--><!--]--> Javaç±»å‹ä¸æ•°æ®ç±»å‹å¯¹åº” <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/springboot/21%20springboot%E5%90%AF%E5%8A%A8%E5%8A%A0%E8%BD%BD%E6%95%B0%E6%8D%AE.html#å‚è€ƒ" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="å‚è€ƒ"><!--[--><!--]--> å‚è€ƒ <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>springboot data jpa å¯åŠ¨åŠ è½½æ•°æ®data.sqlå’Œschema.sql</p></div><p><a href="https://github.com/Q10Viking/learncode/tree/main/springboot/springboot-loading-initial-data" target="_blank" rel="noopener noreferrer">Source Code<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a></p><h2 id="ä¾èµ–" tabindex="-1"><a class="header-anchor" href="#ä¾èµ–" aria-hidden="true">#</a> ä¾èµ–</h2><details class="custom-container details"><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://maven.apache.org/POM/4.0.0<span class="token punctuation">&quot;</span></span>
         <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span>
         <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modelVersion</span><span class="token punctuation">&gt;</span></span>4.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modelVersion</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.hzz<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>springboot-loading-initial-data<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.0-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maven.compiler.source</span><span class="token punctuation">&gt;</span></span>8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maven.compiler.source</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maven.compiler.target</span><span class="token punctuation">&gt;</span></span>8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maven.compiler.target</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>springboot.version</span><span class="token punctuation">&gt;</span></span>2.7.12<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>springboot.version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resource.delimiter</span><span class="token punctuation">&gt;</span></span>@<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resource.delimiter</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project.build.sourceEncoding</span><span class="token punctuation">&gt;</span></span>UTF-8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project.build.sourceEncoding</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencyManagement</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!--SpringBootçš„ç‰ˆæœ¬ç®¡ç†--&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-dependencies<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>${springboot.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>type</span><span class="token punctuation">&gt;</span></span>pom<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>type</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>import<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencyManagement</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-data-jpa<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.projectlombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>lombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.18.18<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>profiles</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>profile</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">&gt;</span></span>mysql<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>activation</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>activeByDefault</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>activeByDefault</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>activation</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>spring-boot.profiles.active</span><span class="token punctuation">&gt;</span></span>mysql<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>spring-boot.profiles.active</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>mysql<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>mysql-connector-java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>8.0.25<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>runtime<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>profile</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>profile</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">&gt;</span></span>h2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>spring-boot.profiles.active</span><span class="token punctuation">&gt;</span></span>h2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>spring-boot.profiles.active</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.h2database<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>h2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>runtime<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>profile</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>profiles</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>build</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resources</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resource</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>directory</span><span class="token punctuation">&gt;</span></span>src/main/resources<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>directory</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filtering</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filtering</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resource</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resources</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>build</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br></div></div></details><h3 id="é…ç½®" tabindex="-1"><a class="header-anchor" href="#é…ç½®" aria-hidden="true">#</a> é…ç½®</h3><div class="code-group"><div class="code-group__nav"><ul class="code-group__ul"><li class="code-group__li"><button class="code-group__nav-tab code-group__nav-tab-active" ariapressed="true" ariaexpanded="true">application.yaml</button></li><li class="code-group__li"><button class="code-group__nav-tab" ariapressed="false" ariaexpanded="false">application-mysql.yaml</button></li><li class="code-group__li"><button class="code-group__nav-tab" ariapressed="false" ariaexpanded="false">application-h2.yaml</button></li></ul></div><!--[--><div class="code-group-item" aria-selected="false"><!--[--><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code>
<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">profiles</span><span class="token punctuation">:</span>
    <span class="token key atrule">active</span><span class="token punctuation">:</span> <span class="token string">&#39;@spring-boot.profiles.active@&#39;</span>
  <span class="token key atrule">jpa</span><span class="token punctuation">:</span>
    <span class="token key atrule">show-sql</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
    <span class="token key atrule">properties</span><span class="token punctuation">:</span>
      <span class="token key atrule">hibernate</span><span class="token punctuation">:</span>
        <span class="token key atrule">format_sql</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
    <span class="token key atrule">defer-datasource-initialization</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
    <span class="token key atrule">hibernate</span><span class="token punctuation">:</span>
      <span class="token key atrule">ddl-auto</span><span class="token punctuation">:</span> create
  <span class="token key atrule">sql</span><span class="token punctuation">:</span>
    <span class="token key atrule">init</span><span class="token punctuation">:</span>
      <span class="token key atrule">mode</span><span class="token punctuation">:</span> always
      <span class="token key atrule">data-locations</span><span class="token punctuation">:</span> classpath<span class="token important">*:sql/data.sql</span>
      <span class="token key atrule">schema-locations</span><span class="token punctuation">:</span> classpath<span class="token important">*:sql/schema.sql</span>
<span class="token key atrule">logging</span><span class="token punctuation">:</span>
  <span class="token key atrule">level</span><span class="token punctuation">:</span>
    <span class="token key atrule">org.hibernate.sql</span><span class="token punctuation">:</span> debug
    <span class="token key atrule">org.hibernate.type</span><span class="token punctuation">:</span> trace
<span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8888</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><!--]--></div><div class="code-group-item" aria-selected="false"><!--[--><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">hzz</span><span class="token punctuation">:</span>
  <span class="token key atrule">use</span><span class="token punctuation">:</span> mysql
<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">datasource</span><span class="token punctuation">:</span>
    <span class="token key atrule">driver-class-name</span><span class="token punctuation">:</span> com.mysql.cj.jdbc.Driver
    <span class="token key atrule">url</span><span class="token punctuation">:</span> jdbc<span class="token punctuation">:</span>mysql<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span>3306/ddd<span class="token punctuation">?</span>useUnicode=true<span class="token important">&amp;characterEncoding=utf-8&amp;useSSL=false&amp;serverTimezone=UTC</span>
    <span class="token key atrule">username</span><span class="token punctuation">:</span> root
    <span class="token key atrule">password</span><span class="token punctuation">:</span> Root.123456
  <span class="token key atrule">jpa</span><span class="token punctuation">:</span>
    <span class="token key atrule">database-platform</span><span class="token punctuation">:</span> org.hibernate.dialect.MySQL8Dialect
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><!--]--></div><div class="code-group-item" aria-selected="false"><!--[--><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">hzz</span><span class="token punctuation">:</span>
  <span class="token key atrule">use</span><span class="token punctuation">:</span> h2
<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">datasource</span><span class="token punctuation">:</span>
    <span class="token key atrule">url</span><span class="token punctuation">:</span> jdbc<span class="token punctuation">:</span>h2<span class="token punctuation">:</span>mem<span class="token punctuation">:</span>testdb
    <span class="token key atrule">username</span><span class="token punctuation">:</span> root
    <span class="token key atrule">password</span><span class="token punctuation">:</span> Root.123456
  <span class="token key atrule">h2</span><span class="token punctuation">:</span>
    <span class="token key atrule">console</span><span class="token punctuation">:</span>
      <span class="token key atrule">enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
  <span class="token key atrule">jpa</span><span class="token punctuation">:</span>
    <span class="token key atrule">database-platform</span><span class="token punctuation">:</span> org.hibernate.dialect.H2Dialect
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><!--]--></div><!--]--></div><h2 id="entity" tabindex="-1"><a class="header-anchor" href="#entity" aria-hidden="true">#</a> Entity</h2><p><code>springboot data jpa</code>ä½¿å¾—æˆ‘ä»¬å¾ˆå®¹æ˜“ç®¡ç†æ•°æ®åº“ã€‚å¦‚æœä½¿ç”¨é»˜è®¤çš„é…ç½®ï¼Œspringbootä¼šæ‰«é¢é¡¹ç›®ä¸­çš„**@Entity**,ä¼šè‡ªåŠ¨åˆ›å»ºå¯¹åº”çš„è¡¨</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Entity</span>
<span class="token annotation punctuation">@Getter</span>
<span class="token annotation punctuation">@Setter</span>
<span class="token annotation punctuation">@NoArgsConstructor</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Country</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Id</span>
    <span class="token annotation punctuation">@GeneratedValue</span><span class="token punctuation">(</span>strategy <span class="token operator">=</span> <span class="token constant">IDENTITY</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> id<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Column</span><span class="token punctuation">(</span>nullable <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>springbootä¼šæ ¹æ®entityè‡ªåŠ¨åˆ›å»ºå¯¹åº”çš„æ•°æ®åº“è¡¨</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code>Hibernate: 
    
    <span class="token keyword">drop</span> <span class="token keyword">table</span> <span class="token keyword">if</span> <span class="token keyword">exists</span> country
Hibernate: 
    
    <span class="token keyword">create</span> <span class="token keyword">table</span> country <span class="token punctuation">(</span>
       id <span class="token keyword">integer</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">auto_increment</span><span class="token punctuation">,</span>
        name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
        <span class="token keyword">primary</span> <span class="token keyword">key</span> <span class="token punctuation">(</span>id<span class="token punctuation">)</span>
    <span class="token punctuation">)</span> <span class="token keyword">engine</span><span class="token operator">=</span><span class="token keyword">InnoDB</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p><img src="/images/springboot/image-20230603193124566.png" alt="image-20230603193124566"></p><p>ä¸Šé¢éƒ½æ˜¯spring boot data jpaè‡ªåŠ¨å¸®æˆ‘ä»¬åšçš„ï¼Œä½†æ˜¯æˆ‘ä»¬éœ€è¦æ›´å¤šçš„æ§åˆ¶æƒã€‚è¿™æ—¶å€™æˆ‘ä»¬å°±éœ€è¦<code>data.sql</code>å’Œ<code>schema.sql</code>æ–‡ä»¶</p><h2 id="data-sql" tabindex="-1"><a class="header-anchor" href="#data-sql" aria-hidden="true">#</a> data.sql</h2><p>è™½ç„¶springå¸®æˆ‘åˆ›å»ºäº†è¡¨ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰å¸®åŠ©æˆ‘ä»¬å¡«å……æ•°æ®ï¼Œé€šè¿‡data.sqlæ–‡ä»¶ï¼Œå¯ä»¥æ’å…¥æ•°æ®</p><p><img src="/images/springboot/image-20230603194000498.png" alt="image-20230603194000498"></p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> country <span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">&#39;China&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> country <span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">&#39;USA&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> country <span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">&#39;Japan&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> country <span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">&#39;Italy&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><blockquote><p>By default, <em>data.sql</em> scripts get executed before the Hibernate is initialized. We need Hibernate to create our tables before inserting the data into them. To achieve this, we need to defer the initialization of our data source. We&#39;ll use the below property to achieve this:</p><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œdata.sqlè„šæœ¬åœ¨åˆå§‹åŒ–Hibernateä¹‹å‰æ‰§è¡Œã€‚åœ¨å°†æ•°æ®æ’å…¥è¡¨ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦Hibernateæ¥åˆ›å»ºè¡¨ã€‚ä¸ºäº†å®ç°è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬éœ€è¦æ¨è¿Ÿæ•°æ®æºçš„åˆå§‹åŒ–ã€‚æˆ‘ä»¬å°†ä½¿ç”¨ä»¥ä¸‹å±æ€§æ¥å®ç°è¿™ä¸€ç‚¹ï¼š</p></blockquote><div class="language-properties ext-properties line-numbers-mode"><pre class="language-properties"><code><span class="token key attr-name">spring.jpa.defer-datasource-initialization</span><span class="token punctuation">=</span><span class="token value attr-value">true</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>å½“æˆ‘ä»¬è¿è¡Œé¡¹ç›®çš„æ—¶å€™ï¼Œspringbootä¼šè‡ªåŠ¨æ‰§è¡Œdata.sqlé‡Œé¢çš„sqlè¯­å¥</p><p><img src="/images/springboot/image-20230603201330185.png" alt="image-20230603201330185"></p><h3 id="æ³¨æ„â¤ï¸" tabindex="-1"><a class="header-anchor" href="#æ³¨æ„â¤ï¸" aria-hidden="true">#</a> æ³¨æ„â¤ï¸</h3><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>Please note that for any script-based initialization, i.e. inserting data via data.sql or creating schema via schema.sql we need to set the below property:</p><p>è¯·æ³¨æ„ï¼Œå¯¹äºä»»ä½•åŸºäºè„šæœ¬çš„åˆå§‹åŒ–ï¼Œå³é€šè¿‡data.sqlæ’å…¥æ•°æ®æˆ–é€šè¿‡schema.sqlåˆ›å»ºschemaï¼Œæˆ‘ä»¬éœ€è¦è®¾ç½®ä»¥ä¸‹å±æ€§ï¼š</p></div><div class="language-properties ext-properties line-numbers-mode"><pre class="language-properties"><code><span class="token key attr-name">spring.sql.init.mode</span><span class="token punctuation">=</span><span class="token value attr-value">always</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><ul><li>å®ƒçš„é»˜è®¤å€¼æ˜¯embeddedï¼Œæ‰€ä»¥åƒh2è¿™æ ·çš„åµŒå…¥æ•°æ®åº“ï¼Œå°±ä¸ç”¨è®¾ç½®è¿™ä¸ªã€‚å¯¹äºå¤–éƒ¨çš„æ•°æ®åº“å¦‚mysqlï¼Œåˆ™éœ€è¦è®¾ç½®ä¸ºalways.</li><li>è®¾ç½®ä¸ºalwaysä¹Ÿå¯¹åµŒå…¥çš„æ•°æ®åº“ï¼ˆå¦‚h2ï¼‰ç”Ÿæ•ˆ</li></ul><h3 id="åµŒå…¥å‹æ•°æ®åº“java" tabindex="-1"><a class="header-anchor" href="#åµŒå…¥å‹æ•°æ®åº“java" aria-hidden="true">#</a> åµŒå…¥å‹æ•°æ®åº“Java</h3><p><a href="http://sayrohan.blogspot.com/2012/12/choosing-light-weight-java-database.html" target="_blank" rel="noopener noreferrer">choosing-light-weight-java-database<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a></p><p><a href="https://dzone.com/articles/3-java-embedded-databases" target="_blank" rel="noopener noreferrer">3-java-embedded-databases<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a></p><ol><li><p>H2</p></li><li><p>HSQLDB (HyperSQL Database)</p></li><li><p>Apache Derby</p></li></ol><h2 id="schema-sql" tabindex="-1"><a class="header-anchor" href="#schema-sql" aria-hidden="true">#</a> schema.sql</h2><p>æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦springboot jpaæ ¹æ®entityåˆ›å»ºschemaã€‚æˆ‘ä»¬å¯ä»¥è‡ªå·±é¡¶ä¸€ä¸ªæ–‡ä»¶ï¼Œç„¶ååˆ›å»ºè¡¨</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">drop</span> <span class="token keyword">table</span> <span class="token keyword">if</span> <span class="token keyword">exists</span> USERS<span class="token punctuation">;</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> USERS
<span class="token punctuation">(</span>
    ID     <span class="token keyword">int</span>          <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token punctuation">,</span>
    NAME   <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
    <span class="token keyword">STATUS</span> <span class="token keyword">int</span><span class="token punctuation">,</span>
    <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>ID<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><img src="/images/springboot/image-20230603215801705.png" alt="image-20230603215801705"></p><p>å¯åŠ¨é¡¹ç›®ä¹‹å</p><p><img src="/images/springboot/image-20230603220042352.png" alt="image-20230603220042352"></p><blockquote><p>æ³¨æ„ï¼Œspringbooté¡¹ç›®å¯åŠ¨çš„æ—¶å€™æ¯æ¬¡éƒ½ä¼šåˆ›å»ºUSERSè¡¨ï¼Œç”±äºæ•°æ®åº“å·²ç»åˆ›å»ºè¿‡äº†ï¼Œé‚£ä¹ˆï¼Œè¡¨åˆ›å»ºé‡å¤ï¼Œspringä¼šæŠ¥é”™ï¼Œå¯åŠ¨ä¸èµ·æ¥ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸€èˆ¬å¾—æ‰‹åŠ¨åŠ ä¸Šdropè¯­å¥</p></blockquote><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>Caused by: java.sql.SQLSyntaxErrorException: Table <span class="token string">&#39;USERS&#39;</span> already exists
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>create table USERS
(
    ID     int          not null AUTO_INCREMENT,
    NAME   varchar(100) not null,
    STATUS int,
    PRIMARY KEY (ID)
);
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="å†²çª" tabindex="-1"><a class="header-anchor" href="#å†²çª" aria-hidden="true">#</a> å†²çª</h3><blockquote><p><strong>Please note that if we are using script-based initialization, i.e. through <code>schema.sql</code> and <code>data.sql</code> and also <code>Hibernate initialization</code>, then using both of them together can cause some issues.</strong></p><p>To solve this, we can disable the execution of DDL commands altogether by Hibernate, which Hibernate uses for the creation/updation of tables:</p></blockquote><div class="language-properties ext-properties line-numbers-mode"><pre class="language-properties"><code><span class="token comment"># ç¦æ­¢hibernateè‡ªåŠ¨åˆ›å»ºè¡¨schema</span>
<span class="token key attr-name">spring.jpa.hibernate.ddl-auto</span><span class="token punctuation">=</span><span class="token value attr-value">none</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>è¿™æ ·ç¦æ­¢äº†hibernateè‡ªåŠ¨ç”Ÿæˆschema,å°±èƒ½ä¿è¯ï¼Œåªæœ‰schema.sqlç”Ÿæ•ˆ.é¿å…äº†å†²çªï¼Œä½†æ˜¯ä¸ªäººä¸å»ºè®®è¿™æ ·åšã€‚</p><h3 id="æ‰§è¡Œé¡ºåºâ¤ï¸" tabindex="-1"><a class="header-anchor" href="#æ‰§è¡Œé¡ºåºâ¤ï¸" aria-hidden="true">#</a> æ‰§è¡Œé¡ºåºâ¤ï¸</h3><p>ä¸€èˆ¬æˆ‘ä»¬é…ç½®æˆè¿™æ ·</p><div class="language-properties ext-properties line-numbers-mode"><pre class="language-properties"><code><span class="token key attr-name">spring.jpa.hibernate.ddl-auto</span><span class="token punctuation">=</span><span class="token value attr-value">create</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>é‚£ä¹ˆspringæ‰§è¡Œå¾ªåºHibernateæ ¹æ®entityç”Ÿæˆschem,ç„¶åæ‰§è¡Œschema.sql,æœ€åæ˜¯data.sqlå¡«å……æ•°æ®åº“</p><h3 id="æ§åˆ¶hibernate-åˆ›å»ºddlçš„æ–¹å¼" tabindex="-1"><a class="header-anchor" href="#æ§åˆ¶hibernate-åˆ›å»ºddlçš„æ–¹å¼" aria-hidden="true">#</a> æ§åˆ¶Hibernate åˆ›å»ºDDLçš„æ–¹å¼</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>spring.jpa.hibernate.ddl-auto=æœ‰äº”ç§æ–¹å¼
ä¸è¿‡æœ€å¸¸ç”¨çš„è¿˜æ˜¯createå’Œupdate
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li><code>create</code> â€“ Hibernate first drops existing tables and then creates new tables.</li><li><code>update</code> â€“ The object model created based on the mappings (annotations or XML) is compared with the existing schema, and then Hibernate updates the schema according to the diff. It never deletes the existing tables or columns even if they are no longer required by the application.</li><li><code>create-drop</code> â€“ similar to <em>create</em>, with the addition that Hibernate will drop the database after all operations are completed; typically used for unit testing</li><li><code>validate</code> â€“ Hibernate only validates whether the tables and columns exist; otherwise, it throws an exception.</li><li><code>none</code> â€“ This value effectively turns off the DDL generation.</li></ul><h3 id="æ§åˆ¶åŠ è½½æ•°æ®çš„æ–¹å¼" tabindex="-1"><a class="header-anchor" href="#æ§åˆ¶åŠ è½½æ•°æ®çš„æ–¹å¼" aria-hidden="true">#</a> æ§åˆ¶åŠ è½½æ•°æ®çš„æ–¹å¼</h3><div class="language-properties ext-properties line-numbers-mode"><pre class="language-properties"><code><span class="token key attr-name">spring.sql.init.mode</span><span class="token punctuation">=</span><span class="token value attr-value">ä¸‰ç§</span>
<span class="token comment"># æœ€å¸¸è§çš„æ˜¯always</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>springbooté»˜è®¤ä¸ºåµŒå…¥çš„æ•°æ®åº“åŠ è½½æ•°æ®å¦‚H2</p><ul><li><code>always</code> â€“ always initialize the database</li><li><code>embedded</code> â€“ always initialize if an embedded database is in use. This is the default if the property value is not specified.</li><li><code>never</code> â€“ never initialize the database</li></ul><h2 id="å°ç»“" tabindex="-1"><a class="header-anchor" href="#å°ç»“" aria-hidden="true">#</a> å°ç»“</h2><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment"># ç¡®ä¿data.sqlå’Œschema.sqlåœ¨hibernateæ ¹æ®entityåˆ›å»ºschemaä¹‹åï¼Œæ‰æ‰§è¡Œ</span>
spring<span class="token punctuation">.</span>jpa<span class="token punctuation">.</span>defer<span class="token operator">-</span>datasource<span class="token operator">-</span>initialization<span class="token operator">=</span><span class="token boolean">true</span>
<span class="token comment"># å¯¹äºéåµŒå…¥å¼çš„æ•°æ®åº“ï¼Œæˆ‘ä»¬æ€»æ˜¯éœ€è¦æ‰§è¡Œdata.sqlæˆ–è€…schema.sqlçš„å†…å®¹</span>
spring<span class="token punctuation">.</span><span class="token keyword">sql</span><span class="token punctuation">.</span>init<span class="token punctuation">.</span><span class="token keyword">mode</span><span class="token operator">=</span>always

<span class="token comment"># hibernate è‡ªåŠ¨åˆ›å»º schema</span>
spring<span class="token punctuation">.</span>jpa<span class="token punctuation">.</span>hibernate<span class="token punctuation">.</span>ddl<span class="token operator">-</span>auto<span class="token operator">=</span>none
spring<span class="token punctuation">.</span>jpa<span class="token punctuation">.</span>hibernate<span class="token punctuation">.</span>ddl<span class="token operator">-</span>auto<span class="token operator">=</span><span class="token keyword">create</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><blockquote><p>æŒ‡å®šdata.sqlæˆ–è€…schema.sqlçš„ä½ç½®ã€‚<strong>ä¸è¿‡å»ºè®®ç›´æ¥æ”¾åœ¨resourcesä¸‹å³å¯ï¼Œé¿å…å¤šä½™çš„é…ç½®ï¼Œä½†æ˜¯è¿™æ ·ç®¡ç†ä¹Ÿä¸é”™</strong></p></blockquote><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code> <span class="token key atrule">spring</span><span class="token punctuation">:</span>
 	<span class="token key atrule">sql</span><span class="token punctuation">:</span>
        <span class="token key atrule">init</span><span class="token punctuation">:</span>
          <span class="token key atrule">data-locations</span><span class="token punctuation">:</span> classpath<span class="token important">*:data.sql</span>
          <span class="token key atrule">schema-locations</span><span class="token punctuation">:</span> classpath<span class="token important">*:schema.sql</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><img src="/images/springboot/image-20230603222447267.png" alt="image-20230603222447267"></p><h3 id="å»ºè®®â¤ï¸" tabindex="-1"><a class="header-anchor" href="#å»ºè®®â¤ï¸" aria-hidden="true">#</a> å»ºè®®â¤ï¸</h3><p>schema.sqlå¯ä»¥ä¸éœ€è¦ï¼Œè®©hibernateæ ¹æ®entityæ¥åˆ›å»ºï¼Œå¡«å……è¡¨æ•°æ®ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨data.sql</p><p>é…ç½®</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment"># ç¡®ä¿data.sqlå’Œschema.sqlåœ¨hibernateæ ¹æ®entityåˆ›å»ºschemaä¹‹åï¼Œæ‰æ‰§è¡Œ</span>
spring<span class="token punctuation">.</span>jpa<span class="token punctuation">.</span>defer<span class="token operator">-</span>datasource<span class="token operator">-</span>initialization<span class="token operator">=</span><span class="token boolean">true</span>
<span class="token comment"># å¯¹äºéåµŒå…¥å¼çš„æ•°æ®åº“ï¼Œæˆ‘ä»¬æ€»æ˜¯éœ€è¦åŠ è½½data.sqlæˆ–è€…schema.sqlçš„å†…å®¹</span>
spring<span class="token punctuation">.</span><span class="token keyword">sql</span><span class="token punctuation">.</span>init<span class="token punctuation">.</span><span class="token keyword">mode</span><span class="token operator">=</span>always
<span class="token comment"># å…è®¸hibernateè‡ªåŠ¨åˆ›å»º</span>
spring<span class="token punctuation">.</span>jpa<span class="token punctuation">.</span>hibernate<span class="token punctuation">.</span>ddl<span class="token operator">-</span>auto<span class="token operator">=</span><span class="token keyword">create</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>æœ€ç»ˆçš„é…ç½®ï¼Œ<strong>å°†data.sqlå’Œschema.sqlç›´æ¥æ”¾åœ¨resourcesä¸‹</strong></p><div class="code-group"><div class="code-group__nav"><ul class="code-group__ul"><li class="code-group__li"><button class="code-group__nav-tab code-group__nav-tab-active" ariapressed="true" ariaexpanded="true">application.yaml</button></li><li class="code-group__li"><button class="code-group__nav-tab" ariapressed="false" ariaexpanded="false">application-mysql.yaml</button></li><li class="code-group__li"><button class="code-group__nav-tab" ariapressed="false" ariaexpanded="false">application-h2.yaml</button></li></ul></div><!--[--><div class="code-group-item" aria-selected="false"><!--[--><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">profiles</span><span class="token punctuation">:</span>
    <span class="token key atrule">active</span><span class="token punctuation">:</span> <span class="token string">&#39;@spring-boot.profiles.active@&#39;</span>
  <span class="token key atrule">jpa</span><span class="token punctuation">:</span>
    <span class="token key atrule">show-sql</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
    <span class="token key atrule">properties</span><span class="token punctuation">:</span>
      <span class="token key atrule">hibernate</span><span class="token punctuation">:</span>
        <span class="token key atrule">format_sql</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
    <span class="token key atrule">defer-datasource-initialization</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
    <span class="token key atrule">hibernate</span><span class="token punctuation">:</span>
      <span class="token key atrule">ddl-auto</span><span class="token punctuation">:</span> create
  <span class="token key atrule">sql</span><span class="token punctuation">:</span>
    <span class="token key atrule">init</span><span class="token punctuation">:</span>
      <span class="token key atrule">mode</span><span class="token punctuation">:</span> always
<span class="token key atrule">logging</span><span class="token punctuation">:</span>
  <span class="token key atrule">level</span><span class="token punctuation">:</span>
    <span class="token key atrule">org.hibernate.sql</span><span class="token punctuation">:</span> debug
    <span class="token key atrule">org.hibernate.type</span><span class="token punctuation">:</span> trace
<span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8888</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><!--]--></div><div class="code-group-item" aria-selected="false"><!--[--><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">hzz</span><span class="token punctuation">:</span>
  <span class="token key atrule">use</span><span class="token punctuation">:</span> mysql
<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">datasource</span><span class="token punctuation">:</span>
    <span class="token key atrule">driver-class-name</span><span class="token punctuation">:</span> com.mysql.cj.jdbc.Driver
    <span class="token key atrule">url</span><span class="token punctuation">:</span> jdbc<span class="token punctuation">:</span>mysql<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span>3306/ddd<span class="token punctuation">?</span>useUnicode=true<span class="token important">&amp;characterEncoding=utf-8&amp;useSSL=false&amp;serverTimezone=UTC</span>
    <span class="token key atrule">username</span><span class="token punctuation">:</span> root
    <span class="token key atrule">password</span><span class="token punctuation">:</span> Root.123456
  <span class="token key atrule">jpa</span><span class="token punctuation">:</span>
    <span class="token key atrule">database-platform</span><span class="token punctuation">:</span> org.hibernate.dialect.MySQL8Dialect
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><!--]--></div><div class="code-group-item" aria-selected="false"><!--[--><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">hzz</span><span class="token punctuation">:</span>
  <span class="token key atrule">use</span><span class="token punctuation">:</span> h2
<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">datasource</span><span class="token punctuation">:</span>
    <span class="token key atrule">url</span><span class="token punctuation">:</span> jdbc<span class="token punctuation">:</span>h2<span class="token punctuation">:</span>mem<span class="token punctuation">:</span>testdb
    <span class="token key atrule">username</span><span class="token punctuation">:</span> root
    <span class="token key atrule">password</span><span class="token punctuation">:</span> Root.123456
  <span class="token key atrule">h2</span><span class="token punctuation">:</span>
    <span class="token key atrule">console</span><span class="token punctuation">:</span>
      <span class="token key atrule">enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
  <span class="token key atrule">jpa</span><span class="token punctuation">:</span>
    <span class="token key atrule">database-platform</span><span class="token punctuation">:</span> org.hibernate.dialect.H2Dialect
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><!--]--></div><!--]--></div><h2 id="javaç±»å‹ä¸æ•°æ®ç±»å‹å¯¹åº”" tabindex="-1"><a class="header-anchor" href="#javaç±»å‹ä¸æ•°æ®ç±»å‹å¯¹åº”" aria-hidden="true">#</a> Javaç±»å‹ä¸æ•°æ®ç±»å‹å¯¹åº”</h2><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>ä¸€ç›´æä¸æ¸…æ¥šjavaç±»å‹ä¸mysqlæ•°æ®ç±»å‹çš„å¯¹åº”å…³ç³»ï¼Œæ—¢ç„¶hibernateèƒ½å¤Ÿç”Ÿæˆschema,é‚£ä¹ˆå€Ÿæ­¤æœºä¼šï¼Œä¸€ä¸¾æ‹¿ä¸‹å®ƒ</p></div><p>javaå¯¹åº”çš„mysql</p><details class="custom-container details"><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Entity</span>
<span class="token annotation punctuation">@Getter</span>
<span class="token annotation punctuation">@Setter</span>
<span class="token annotation punctuation">@NoArgsConstructor</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">JavaTypeMappingMySqlType</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Id</span>
    <span class="token annotation punctuation">@GeneratedValue</span><span class="token punctuation">(</span>strategy <span class="token operator">=</span> <span class="token class-name">GenerationType</span><span class="token punctuation">.</span><span class="token constant">IDENTITY</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> id<span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token keyword">byte</span> a<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">short</span> b<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">boolean</span> c<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">char</span> d<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> e<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">long</span> f<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">float</span> g<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">double</span> h<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> i<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span>Date</span> j<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span>Date</span> k<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">LocalDateTime</span> l<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">LocalDate</span> m<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>math<span class="token punctuation">.</span></span>BigDecimal</span> n<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>math<span class="token punctuation">.</span></span>BigInteger</span> o<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> p<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> q<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Double</span> r<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Long</span> s<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Float</span> t<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token doc-comment comment">/**
 CREATE TABLE `java_type_mapping_my_sql_type` (
 `id` int NOT NULL AUTO_INCREMENT,
 `a` tinyint NOT NULL,
 `b` smallint NOT NULL,
 `c` bit(1) NOT NULL,
 `d` char(1) NOT NULL,
 `e` int NOT NULL,
 `f` bigint NOT NULL,
 `g` float NOT NULL,
 `h` double NOT NULL,
 `i` varchar(255) DEFAULT NULL,
 `j` datetime(6) DEFAULT NULL,
 `k` date DEFAULT NULL,
 `l` datetime(6) DEFAULT NULL,
 `m` date DEFAULT NULL,
 `n` decimal(19,2) DEFAULT NULL,
 `o` decimal(19,2) DEFAULT NULL,
 `p` tinyblob,
 `q` int DEFAULT NULL,
 `r` double DEFAULT NULL,
 `s` bigint DEFAULT NULL,
 `t` float DEFAULT NULL,
 PRIMARY KEY (`id`)
 ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
 */</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br></div></div></details><table><thead><tr><th>Javaç±»å‹</th><th>mysqlç±»å‹</th></tr></thead><tbody><tr><td>int</td><td>int</td></tr><tr><td>Integer</td><td>int</td></tr><tr><td>double</td><td>double</td></tr><tr><td>Double</td><td>double</td></tr><tr><td>float</td><td>float</td></tr><tr><td>Float</td><td>float</td></tr><tr><td>long</td><td>bigint</td></tr><tr><td>Long</td><td>bigint</td></tr><tr><td>BigDecimal</td><td>decimal(19,2)</td></tr><tr><td>BigInt</td><td>decimal(19,2)</td></tr><tr><td>java.util.Date</td><td>datetime</td></tr><tr><td>java.sql.Date</td><td>date</td></tr><tr><td>LocalDateTime</td><td>datetime</td></tr><tr><td>LocalDate</td><td>date</td></tr><tr><td>String</td><td>varchar(255)</td></tr><tr><td>byte</td><td>tinyint</td></tr><tr><td>byte[]</td><td>tinyblob</td></tr><tr><td>short</td><td>smallint</td></tr><tr><td>boolean</td><td>bit(1)</td></tr><tr><td>char</td><td>char(1)</td></tr></tbody></table><h2 id="å‚è€ƒ" tabindex="-1"><a class="header-anchor" href="#å‚è€ƒ" aria-hidden="true">#</a> å‚è€ƒ</h2><p><a href="https://www.baeldung.com/spring-boot-data-sql-and-schema-sql" target="_blank" rel="noopener noreferrer">spring-boot-data-sql-and-schema-sql<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a></p><!--]--></div><footer class="page-meta"><!----><!----><!----></footer><nav class="page-nav"><p class="inner"><span class="prev"> â† <a href="/springboot/" class="nav-link router-link-active" aria-label="Back To ç›®å½•"><!--[--><!--]--> Back To ç›®å½• <!--[--><!--]--></a></span><!----></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script src="/assets/js/runtime~app.2c87fbe0.js" defer></script><script src="/assets/js/95615.aba5921d.js" defer></script><script src="/assets/js/app.4aafd1f6.js" defer></script>
  </body>
</html>
